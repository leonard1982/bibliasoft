var popUp, URLArray, lastDateUpdateIndicators, errorNameBrowserSupportPlugin = null, AutoCompleteFocusID = "", speedItems = 700, speedCard = 800; function showPopupAngular(e, t, a) { (t = {}) && (t = { autoDimensions: "", padding: "", width: "", height: "", transitionIn: "none", transitionOut: "none", closeBtn: "true", modal: "true", TimeAutoClose: "0", TimeDelayOpen: "0" }), "function" == typeof top.showPopupFatherAngular && top.showPopupFatherAngular(e, t, a) } function closePopupAngular() { "function" == typeof top.closePopupFatherAngular && top.closePopupFatherAngular("popupDialog") } function deleteCharactersStarAndEnd(e, t, a) { var l = e.length, n = ""; return e && (n = e.substring(t, l - a)), n } function contains(e, t, a = !1) { var l = !1; return e && (a && (e = e.toLowerCase(), t = t.toLowerCase()), -1 < e.indexOf(t) && (l = !0)), l } function isAngular(e) { var t = !1; return contains(e, "/#/") && (t = !0), t } function escapeRegExp(e) { return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&") } function replaceGlobal(e, t, a) { var l = new RegExp(escapeRegExp(t), "g"); return e.replace(l, a) } function escapeUrlBase64(e) { return e = replaceGlobal(e, "+", "."), e = replaceGlobal(e, "/", "-"), e = replaceGlobal(e, "=", "_"), e } function standardizeScript(e) { if (e) { if (contains(e, " =")) { var t = " =", a = "=", l = new RegExp(escapeRegExp(t), "g"); e = e.replace(l, a) } if (contains(e, "= ")) { var t = "= ", a = "=", l = new RegExp(escapeRegExp(t), "g"); e = e.replace(l, a) } if (contains(e, "location.href=\"")) { var t = `location.href="`, a = `location.href='`, l = new RegExp(escapeRegExp(t), "g"); e = e.replace(l, a) } if (contains(e, "location=\"")) { var t = `location="`, a = `location='`, l = new RegExp(escapeRegExp(t), "g"); e = e.replace(l, a) } } return e } function extractFromString(e, t, a, l = 0, n = 0) { var o, d = []; if (e) { var r = e.split(t); let p = 1; for (var s of r) { if (s && 1 < p) { var c = s.indexOf(a); if (-1 == c) { var u = s.length; o = s.substring(l, u - n), d.push(o) } else o = s.substring(l, c - n), d.push(o) } p++ } } return d } function GetParametersUrl(e) { e = e.replace("TabId", "TabID"); var t = extractFromString(e, "TabID=", "&"), a = extractFromString(e, "pTabID=", "&"), l = extractFromString(e, "TabMenuID=", "&"), n = extractFromString(e, "RecordCode=", "&"), o = extractFromString(e, "TitleID=", "&"), d = extractFromString(e, "UsersID=", "&"), r = extractFromString(e, "HiddenHeader=", "&"), s = extractFromString(e, "PopUpWindow=", "&"), c = ""; return 0 < t.length && (c += "?TabID=" + t[0]), 0 < a.length && (c += "&pTabID=" + a[0]), 0 < l.length && (c += "&TabMenuID=" + l[0]), 0 < n.length && (c += "&RecordCode=" + n[0]), 0 < o.length && (c += "&TitleID=" + o[0]), 0 < d.length && (c += "&UsersID=" + d[0]), 0 < r.length && (c += "&HiddenHeader=" + r[0]), 0 < s.length && (c += "&PopUpWindow=" + s[0]), c } function containsArray(e, t, a = !1) { if (t) for (var l = 0; l < t.length; l++)if (contains(e, t[0], a)) return !0; return !1 } function NavigateURLAspContainer(e, t = "") { var a = e; if (contains(e, "Default.aspx", !0) && !containsArray(e, URLsToRedirect, !0)) { var l = GetParametersUrl(e), n = e.substring(0, e.indexOf("Default.aspx?")), o = btoa(e), d = escapeUrlBase64(o); a = n + "./#/asp/" + d + l } return a } function RedirectAspContainer(e, t, a = "") { "new" == t || "_blank" == t ? isAngular(e) ? (event.preventDefault(), window.open(e)) : (contains(e, "Default.aspx?") || containsArray(e, URLsToRedirect, !0)) && (event.preventDefault(), window.open(NavigateURLAspContainer(e))) : isAngular(e) ? (event.preventDefault(), top.window.location.href = e) : contains(e, "Default.aspx?") && ("_top" == t || "_parent" == t ? (event.preventDefault(), top.window.location.href = NavigateURLAspContainer(e)) : (event.preventDefault(), top.window.location.href = NavigateURLAspContainer(e))) } function changeUrlAspInScript(e, t, a, l = !0) { var n = "", o = "", d = extractFromString(e, t, a); for (const c of d) { if (n = "", o = "", contains(c, ",")) { var r = c.charAt(0), s = extractFromString(c, r, ","); n = r + s[0], l && (n = deleteCharactersStarAndEnd(n, 1, 1)) } else n = l ? deleteCharactersStarAndEnd(c, 1, 1) : c; 0 < n.length && (o = NavigateURLAspContainer(n), e = e.replace(new RegExp(escapeRegExp(n), "g"), o)) } return e } function changeUrlRedirect(e) { var t = !1; return e = standardizeScript(e), contains(e, "window.open") ? (t = !0, !1 == isAngular(e) && (e = changeUrlAspInScript(e, "window.open(", ")"))) : (contains(e, "window.location.href") || contains(e, "window.location=") || contains(e, "parent.location.href")) && (t = !0, isAngular(e) ? (contains(e, "window.location.href") && (e = e.replace(new RegExp(escapeRegExp("window.location.href"), "g"), "top.window.location.href")), contains(e, "window.location=") && (e = e.replace(new RegExp(escapeRegExp("window.location="), "g"), "top.window.location=")), contains(e, "parent.location.href") && (e = e.replace(new RegExp(escapeRegExp("top.location.href"), "g"), "top.location.href"))) : (contains(e, "window.location.href=(") ? (e = changeUrlAspInScript(e, `window.location.href=(`, `)`), e = e.replace(new RegExp(escapeRegExp("window.location.href=("), "g"), "top.window.location.href=(")) : contains(e, "window.location.href=") && (e = changeUrlAspInScript(e, `window.location.href='`, `'`, !1), e = e.replace(new RegExp(escapeRegExp("window.location.href"), "g"), "top.window.location.href")), contains(e, "window.location=(") ? (e = changeUrlAspInScript(e, `window.location=(`, `)`), e = e.replace(new RegExp(escapeRegExp("window.location=("), "g"), "top.window.location=(")) : contains(e, "window.location=") && (e = changeUrlAspInScript(e, `window.location='`, `'`, !1), e = e.replace(new RegExp(escapeRegExp("window.location="), "g"), "top.window.location=")), contains(e, "parent.location.href=(") ? (e = changeUrlAspInScript(e, `parent.location.href=(`, `)`), e = e.replace(new RegExp(escapeRegExp("parent.location.href=("), "g"), "top.location.href=(")) : contains(e, "parent.location.href=") && (e = changeUrlAspInScript(e, `parent.location.href='`, `'`, !1), e = e.replace(new RegExp(escapeRegExp("parent.location.href="), "g"), "top.location.href=")))), [e, t] } function cleanScriptToExecute(e) { var t = ""; if (contains(e, "return")) { var a = extractFromString(e, "return", ";"); for (var l of a) contains(l, "false") && (e = e.replace(new RegExp(escapeRegExp("return" + l), "g"), "")) } var n = e.split(";"); for (valueIndice of n) valueIndice = valueIndice.trim(), 0 < valueIndice.length && (t += valueIndice + ";"); return t } function ExecuteJs(javascript, event, onclick = "") { var javascriptModified = changeUrlRedirect(javascript); javascriptModified[1] && (event.preventDefault(), javascriptModified[0] = cleanScriptToExecute(javascriptModified[0]), eval(javascriptModified[0])) } jQuery(document).ready(function () { function e() { try { var e = window.navigator.userAgent, t = e.indexOf("Edge"); return !!(0 < t) } catch (e) { return console.log("ERROR" + e), !1 } } jQuery("[onclick]").each(function () { var e = $(this).attr("onclick"); e = standardizeScript(e), (contains(e, "window.open") || contains(e, "window.location.href") || contains(e, "window.location=") || contains(e, "parent.location.href")) && (this.onclick = function () { return !1 }) }), document.addEventListener("DOMNodeInserted", function (t) { jQuery(t.target).find("[onclick]").each(function () { var e = jQuery(this).attr("onclick"); e = standardizeScript(e), (contains(e, "window.open") || contains(e, "window.location.href") || contains(e, "window.location=") || contains(e, "parent.location.href")) && (this.onclick = function () { return !1 }) }) }), document.addEventListener("contextmenu", function (e) { var t = e.srcElement || e.target, a = t.getAttribute("href"), l = t.parentElement, n = l && void 0 !== l.getAttribute("href") ? l.getAttribute("href") : null; a ? (e.preventDefault(), RedirectAspContainer(a, "new", "")) : n && (e.preventDefault(), RedirectAspContainer(n, "new", "")) }), document.addEventListener("mousedown", function (t) { if (t.ctrlKey && e()) { srcElement = t.srcElement || t.target; var a = srcElement.getAttribute("href"); a && (t.preventDefault(), RedirectAspContainer(a, "new", "")), window.location.reload() } }), document.addEventListener("click", function (e) { var t = e.srcElement || e.target, a = t.parentElement, l = a && void 0 !== a.getAttribute("href") ? a.getAttribute("href") : null, n = t.getAttribute("href"), o = t.getAttribute("onclick"), d = t.getAttribute("target"), r = ""; n && "#" != n ? contains(n, "javascript") ? ExecuteJs(n, e, o) : RedirectAspContainer(n, d, r) : o ? ExecuteJs(o, e) : l && RedirectAspContainer(l, a.getAttribute("target"), r) }), "function" == typeof ValidatorOnLoad && ValidatorOnLoad(); var t = jQuery("a[ShowTour]"); "True" == t.attr("ShowTour") && StartTour(t.attr("TabID")), t.click(function () { StartTour(t.attr("TabID")) }), jQuery.watermark && jQuery.watermark.showAll(); var a = jQuery("input[WaterMark]"); if (0 < a.length) for (var l, n = 0; n < a.length; n++)l = a[n], jQuery(l).watermark(jQuery(l).attr("WaterMark"), { className: "TextBoxWatermarkClass" }); 0 < jQuery(".SectionGroupHeader").length && jQuery(".SectionGroupHeader").corner("top 8px"), 0 < jQuery(".SectionGroupBodyTable").length && jQuery(".SectionGroupBodyTable").corner("round 8px"), 0 < jQuery(".SectionGroupBody").length && jQuery(".SectionGroupBody").corner("round 10px"), 0 < jQuery(".MenuLinkSelected").length && jQuery(".MenuLinkSelected").corner("round 5px"), 0 < jQuery(".menuItemsSelected").length && jQuery(".menuItemsSelected").corner("round 5px"), 0 < jQuery(".MenuDropDownList").length && jQuery(".MenuDropDownList").corner("round 5px"), 0 < jQuery(".HeaderLinkView").length && jQuery(".HeaderLinkView").corner("round 2px"), 0 < jQuery(".GroupLinkView").length && jQuery(".GroupLinkView").corner("round 2px"), InitAutoComplete(), WrapperDropDownListImage(), InitDecimalFields(), closeDialogProgress(); var o = -1, d = -1, r = { x: -1, y: -1 }; if (0 < jQuery("table[moduleoption='true']").length && jQuery("table[moduleoption='true']").mouseover(function (t) { var e = jQuery(this), a = t.pageX, l = t.pageY; r.x = t.pageX, r.y = t.pageY, myTimeout = setTimeout(function () { a == r.x && l == r.y && selectmodules(jQuery(e).attr("modulekey")) }, 350) }).mouseleave(function () { r = { x: -1, y: -1 } }), 0 < jQuery("table[moduleoption='true']").length && jQuery("table[moduleoption='true']").mousemove(function (t) { var e = t.pageX, a = t.pageY, l = 0; if (-1 < o && (l = Math.max(Math.abs(e - o), Math.abs(a - d))), o = e, d = a, 1 == l) { var n = jQuery(this).closest("table"); selectmodules(jQuery(n).attr("modulekey")) } }), jQuery("table[id='menucontainer']").mouseleave(function () { loaddefaultmodule() }), jQuery("tr[id$=trMenu]").mouseleave(function () { loaddefaultmodule() }), "undefined" == typeof s) var s = 5; jQuery("#principalContainer .menuCard").each(function () { var e = $(this).find(".ItemMenuCard").filter(function () { return "" != $(this).text }); e.length > s && ($(this).find(".iconExpandShortCard").css("visibility", "visible"), $(this).find("#lnkShowLess").css("display", "none"), $(this).find("#dvIconDownUp").addClass("icon-abajo"), $.each(e, function (e) { e >= s && "" != $(this).text && $(this).css("display", "none") })) }), jQuery("#principalContainer").length && jQuery("#principalContainer").on("click", ".iconExpandShortCard", function () { var e = $(this).closest(".menuCard").find(".ItemMenuCard").filter(function () { return "" != $(this).text }); if ($(this).find("#lnkShowMore").is(":visible")) { e.show("drop", { direction: "up" }, speedItems); var t = $(this).closest(".menuCard").height(), a = $(this).closest(".menuCard").css("height", "auto").height() + 30; $(this).closest(".menuCard").height(t).animate({ height: a }, speedCard), $(this).find("#lnkShowLess").css("display", "block"), $(this).find("#lnkShowMore").css("display", "none") } else $(this).find("#lnkShowLess").is(":visible") && ($.each(e, function (e) { e >= s && "" != $(this).text && $(this).hide("drop", { direction: "up" }, speedItems) }), $(this).closest(".menuCard").animate({ height: "160px" }, speedCard), $(this).find("#lnkShowLess").css("display", "none"), $(this).find("#lnkShowMore").css("display", "block")) }), loadHeightLicenseMessage(), jQuery("#dvCompanyName").mouseover(function () { document.getElementById("dvCompanyName").offsetWidth < document.getElementById("dvCompanyName").scrollWidth && $("#dvLargeCompanyName").css("display", "block") }), jQuery("#dvCompanyName").mouseout(function () { $("#dvLargeCompanyName").css("display", "none") }) }); function closeModalDialog() { parent && parent.jQuery("#divDialog").dialog("close") } function closeDialogProgress() { if (parent && "undefined" != typeof parent.jQuery) { var e = parent.jQuery("#divProgress"); 0 < e.length && e.is(":visible") && e.hide() } } function InitDecimalFields() { jQuery("input[DecimalField='true']").each(function () { var e = jQuery(this); "true" === e.attr("readyFormat") || (e.number(!0, parseInt(e.attr("Presicion")), e.attr("Decimalseparator"), e.attr("ThousandSeparator")), e.attr("readyFormat", "true")) }) } function InitAutoComplete() { 0 < jQuery(".AutoCompleteClass").length && (jQuery(".AutoCompleteClass").each(function () { var e = jQuery(this); e.attr("isReadyAutocomplete") == null && e.ready(function () { var t = e.attr("selectedValueId"), a = jQuery("[id='" + t + "']"), l = e.attr("selectedNameId"), n = jQuery("[id='" + l + "']"), o = e.attr("selectedCodeId"), d = jQuery("[id='" + o + "']"), r = e.attr("hidCodId"), s = jQuery("[id='" + r + "']"), c = a.val().split(","), u = n.val().split(","), p = d.val().split(","), g = e.attr("mode"), h = !1, m = e.attr("tdhddDes"), f = jQuery("[id='" + m + "']"), v = "true" === e.attr("triggerEventsOnInit"); for (e.attr("isReadyAutocomplete", "false"), k = 0; k < c.length; k++)if ("" != u[k]) { var b = { ID: c[k], Name: u[k], Code: p[k] }; AutoCompleteSelectItem(e.attr("id"), b, v), v && e.trigger("onAddItem", b.ID), s.val(b.ID), f.html(b.Name), h = !0 } 0 == g && !0 == h && HideAutoCompleteControls(e); var y = e.attr("addDivId"); y != null && "" != y ? (UploadDocument(e.attr("id"), window, jQuery("#" + y)), jQuery("div[id$='" + e.attr("id") + "_container_addDocument']").show()) : jQuery("div[id$='" + e.attr("id") + "_container_addDocument']").hide() }) }), jQuery(".AutoCompleteClass").unbind("focus"), jQuery(".AutoCompleteClass").focus(function () { var e = !1; if (AutoCompleteFocusID == this.id && jQuery("ul[class~='ui-menu']").each(function () { jQuery(this).is(":visible") && (e = !0) }), !e) { jQuery("ul[class~='ui-menu']").hide(); var t = jQuery(this); AutoCompleteFocusID = this.id, t.is(":hidden") || AutoCompleteFunction(t, void 0) } }), jQuery(".AutoCompleteClass").unbind("keyup"), jQuery(".AutoCompleteClass").keyup(function (t) { var e = jQuery(this); 37 != t.keyCode && 39 != t.keyCode && EvaluteAutocomplete(e, t) })) } var _lowIndexAutocomplete = [], _highIndexAutocomplete = [], _oldAutocompleteVale = []; function EvaluteAutocomplete(t, a) { var e = t.attr("id"); _lowIndexAutocomplete[e] == null ? (_lowIndexAutocomplete[e] = 0, _highIndexAutocomplete[e] = 0, _oldAutocompleteVale[e + _highIndexAutocomplete[e]] = t.val()) : (++_highIndexAutocomplete[e], _oldAutocompleteVale[e + _highIndexAutocomplete[e]] = t.val()); var l = t.val(), n = t.attr("sendOnEnter"); 13 == a.keyCode ? (a.preventDefault(), t.attr("sendOnEnter") && AutoCompleteFunction(t, a, !0)) : setTimeout(function () { var e = t.attr("id"), l = _oldAutocompleteVale[e + _lowIndexAutocomplete[e]]; delete _oldAutocompleteVale[e + _lowIndexAutocomplete[e]], ++_lowIndexAutocomplete[e], (l == t.val() || l + " " == t.val()) && AutoCompleteFunction(t, a) }, 800) } function AutoCompleteSeletedValues(e) { var t = jQuery("#" + e), a = t.attr("selectedValueId"), l = jQuery("[id='" + a + "']"); return l.val() } function ClearAutoComplete(e) { var t, a = jQuery("#" + e), l = a.attr("selectedValueId"), n = jQuery("[id='" + l + "']"), o = n.val().split(","); for (t = 0; t < o.length; t++)AutoCompleteDeleteItem(o[t], e) } function SetAutoCompleteStateValidator(e, t) { var a = jQuery("#" + e), l = a.attr("selectedValueId"), n = jQuery("[id='" + l + "']"), o = n.get(0); SetStateValidator(o, t) } function SetStateValidator(e, t) { if (e && "undefined" != typeof e.Validators) { var a; for (a = 0; a < e.Validators.length; a++)ValidatorEnable(e.Validators[a], t), e.Validators[a].isvalid = !0, ValidatorUpdateDisplay(e.Validators[a]) } } function SetAutoCompleteEnableValidator(e) { var t = jQuery("#" + e), a = t.attr("selectedValueId"), l = jQuery("[id='" + a + "']"), n = l.get(0); if (n && "undefined" != typeof n.Validators) for (j = 0; j < n.Validators.length; j++)ValidatorEnable(n.Validators[j], !0), ValidatorUpdateDisplay(n.Validators[j]) } function SetAutoCompletStateValidator(e, t) { var a = jQuery("#" + e), l = a.attr("selectedValueId"), n = jQuery("[id='" + l + "']"), o = n.get(0); if (o && "undefined" != typeof o.Validators) for (j = 0; j < o.Validators.length; j++)ValidatorEnable(o.Validators[j], t), o.Validators[j].isvalid = !0, ValidatorUpdateDisplay(o.Validators[j]) } function ReviewLookupReportFields() { jQuery("input[Tag='Filter_0'][id$='Code']").each(function () { try { jQuery(this).get(0).focus() } catch (e) { } }), jQuery("input[Tag='Filter_0'][id$='CodeAux']").each(function () { var e = jQuery(this).get(0); try { e.focus() } catch (e) { } "" == jQuery(this).val() && RestoreBrowserEmptyApeareanceMin(e.id.replace("Aux", "").replace("_", "$"), e.id.replace("CodeAux", "").replace("txt", "tdCode").replace("_", "$"), e.id.replace("_", "$"), e.id.replace("CodeAux", "").replace("txt", "tdhdd").replace("_", "$")) }); var e = jQuery("input[id$='hidStaticControls']").val(); if (e != null) { var t = e.split(","), a = 0; for (a = 0; a < t.length; a++) { var l = t[a]; jQuery("[id$='" + l + "']").removeAttr("Tag") } } } function WrapperDropDownListImage() { var e = jQuery("[rel='DropDownListImage']"); 0 < e.length && e.msDropDown() } function OpenTour(e, t, a) { var l = "", n = ""; if (0 != a) var l = "<table border=\"0\" cellSpacing=\"0\" cellPadding=\"0\" style=\"width:100%;\"><tr><td style=\"width:72px;\"><a style=\"font-family:arial;font-size:18px;text-decoration: none\" href=\"javascript:\" id=\"ancBefore\">Anterior</a></td><td><a href=\"javascript:\" id=\"ancImgBefore\"><img border=\"0\" alt=\"\" src=\"Images/Previous_Tour.png\"/></a></td></tr></table>"; if (null != e[a + 1]) var n = "<table border=\"0\" cellSpacing=\"0\" cellPadding=\"0\" style=\"width:100%;\"><tr><td><a href=\"javascript:\" id=\"ancImgNext\"><img border=\"0\" alt=\"\" src=\"Images/Next_tour.png\"/></a></td><td style=\"width:85px;\"><a style=\"font-family:arial;font-size:18px;text-decoration: none\" href=\"javascript:\" id=\"ancNext\">Siguiente</a></td></tr></table>"; else var n = "<table border=\"0\" cellSpacing=\"0\" cellPadding=\"0\" style=\"width:100%;\"><tr><td><a href=\"javascript:\" id=\"ancImgEnd\"><img border=\"0\" alt=\"\" src=\"Images/Next_tour.png\"/></a></td><td style=\"width:85px;\"><a style=\"font-family:arial;font-size:18px;text-decoration: none\" href=\"javascript:\" id=\"ancEnd\">Finalizar</a></td></tr></table>"; var o = "<iframe id=\"ifrTour\" src=\"" + e[a] + " \" style=\"width:100%; height:532px\";scroll=\"no\"></iframe><table style=\"width:100%;height:56px;\"><tr><td style=\"width:328px\"></td><td style=\"width:150px;text-align:left;\">" + l + "</td><td style=\"width:105px\"></td><td style=\"width:150px;text-align:right;\">" + n + "</td><td style=\"width:318px\"></td></tr></table>"; jQuery.fancybox(o, { autoDimensions: !1, autoScale: !1, padding: 0, width: 863, height: 592, transitionIn: "none", transitionOut: "none", scrolling: "no", modal: !0, beforeLoad: function () { showPopupAngular("", {}, "popupDialog") }, afterClose: function () { closePopupAngular() } }), jQuery("a[id='ancBefore']").click(function () { OpenTour(e, t, a - 1) }), jQuery("a[id='ancImgBefore']").click(function () { OpenTour(e, t, a - 1) }), jQuery("a[id='ancNext']").click(function () { OpenTour(e, t, a + 1) }), jQuery("a[id='ancImgNext']").click(function () { OpenTour(e, t, a + 1) }), jQuery("a[id='ancEnd']").click(function () { finalizeTour(t) }), jQuery("a[id='ancImgEnd']").click(function () { finalizeTour(t) }) } function finalizeTour(e) { var t = jQuery("a[ShowTour]"); if ("True" == t.attr("ShowTour")) { jQuery.ajax({ type: "POST", url: "Framework/Controls/ApplicationTour.ashx", data: { ProcessType: 1, TabID: e }, cache: !1, success: function (e) { "true" == e && (t.attr("ShowTour", "False"), jQuery.fancybox.close()) } }) } else jQuery.fancybox.close() } function StartTour(TabID) { var dataString = { ProcessType: 0, TabID: TabID }; jQuery.ajax({ type: "POST", url: "Framework/Controls/ApplicationTour.ashx", data: dataString, cache: !1, success: function (strJson) { URLArray = eval("(" + strJson + ")"), 0 != URLArray.length && OpenTour(URLArray, TabID, 0) } }) } var blnAutoCompleteProgress = !1; function AutoCompleteFunction(t, a, e) { var l = t.attr("EnableAutocomplete"); if ("" == $.trim(t.val()) && t.val($.trim(t.val())), "true" == l) { var n = t.attr("requestWHERE"), o = t.attr("ControlMasterID"), d = jQuery("input[id$='" + o + "']"), r = t.attr("divDocumentLoader"); ChangeHTML(t.get(0)); var s = { BrowseCode: t.attr("browseCode"), SearchText: t.val(), RequestWHERE: n, txtAutoCompleteID: t.attr("id"), MasterID: d.val(), divLoaderID: r, addRecordExtraParams: t.attr("addRecordExtraParams"), FilterCodeBarReader: t.attr("FilterCodeBarReader") }; blnAutoCompleteProgress = !1, jQuery.ajax({ type: "POST", url: "Framework/Controls/AutoComplete.ashx", dataType: "json", data: s, complete: function (e) { 0 >= e.length }, success: function (l) { if (!(0 >= l.length)) { if (blnAutoCompleteProgress = !0, t.autocomplete({ autoFocus: !0, source: l, delay: 100, minLength: 1, focus: function () { return !1 }, select: function (e, a) { return "False" !== t.attr("preventSelectionWithTabKey") && 9 == e.keyCode ? e.preventDefault() : -1 != a.item.ID && (t.val(""), AutoCompleteSelect(t.attr("id"), a.item), jQuery("ul[class~='ui-menu']").hide()), !1 } }).data("ui-autocomplete")._renderItem = function (e, a) { var l = jQuery("<li></li>"); return blnAutoCompleteProgress || (jQuery(e).hide(), jQuery(e).css("display", "none"), jQuery(l).hide(), jQuery(l).css("display", "none")), l.click(function () { (jQuery.browser.safari || jQuery.browser.mozilla) && "1" == e.attr("IsDocumentUl") && (-1 == a.ID ? e.unbind("click") : (t.val(""), AutoCompleteSelect(t.attr("id"), a), jQuery("ul[class~='ui-menu']").hide())) }).data("item.autocomplete", a).append(function () { if (-1 == a.ID) return "<a style='background-color:#70B8E9;color:#FFF'><table style='width: 100 %;'><tr><td style='padding-right:5px; padding-left:5px;'>" + ("#uploadDocument" == a.Code ? "" : a.Code) + "</td><td>" + a.Name + "</td></tr></table></a>"; var e = ""; if (null != a.lstOtherValueColumns && 0 < a.lstOtherValueColumns.length) { var t; for (t = 0; t < a.lstOtherValueColumns.length; t++)e += "<td style='text-align: end;'>" + a.lstOtherValueColumns[t] + "</td>" } return "<a><table style='width: 100 %;><tr class='" + a.NameClass + "'><td style='padding-right:5px; padding-left:5px;;width:150px;'>" + a.Code + "</td><td>" + a.Name + "</td>" + e + "</tr></table></a>" }).appendTo(e), blnAutoCompleteProgress || (jQuery("ul[class~='ui-menu']").hide(), jQuery("ul[class~='ui-menu-item']").hide(), jQuery("ul[class~='ui-menu'] li").hide()), l }, null != a && "" != t.val()) 40 != a.which && 38 != a.which && t.autocomplete("search", t.val()); else { var n = "{val}"; "" != t.val() && (n = t.val()), t.autocomplete("search", n) } jQuery(".ui-corner-all").uncorner(), t.is(":hidden") && (jQuery("ul[class~='ui-menu']").hide(), jQuery("ul[role='listbox']").hide()), blnAutoCompleteProgress = !1, e && 0 < l.length && 0 <= l[0].ID && (t.val(""), AutoCompleteSelect(t.attr("id"), l[0]), jQuery("ul[class~='ui-menu']").hide()) } } }) } } function VerifyPostBack(txtAutoCompleteId) { var txtAutoComplete = jQuery("[id='" + txtAutoCompleteId + "']"); txtAutoComplete.attr("linkPostback") && eval(txtAutoComplete.attr("linkPostback")) } function AutoCompleteCreate(e, t, a, l, n) { AutoCompleteSelect(e, { ID: t, Name: a, Code: l, Title: n }) } function HideDialog() { jQuery("#divDialog").dialog("close") } function AutoCompleteSelect(e, t) { var a = jQuery("[id='" + e + "']"), l = a.attr("selectedValueId"), n = jQuery("[id='" + l + "']"), o = a.attr("mode"); if (l != null) { if (0 != o) { var d = n.val().split(","); for (i = 0; i < d.length; i++)if (d[i] == t.ID) return } AutoCompleteSelectItem(e, t, !0), AddItemToSelect(t, e), VerifyPostBack(e), jQuery("ul[class~='ui-menu-item']").hide(), jQuery("ul[class~='ui-menu']").hide() } } function AutoCompleteDeleteItem(ID, txtAutoCompleteId) { var txtAutoComplete = jQuery("[id='" + txtAutoCompleteId + "']"), selectedValueId = txtAutoComplete.attr("selectedValueId"), selectedValue = jQuery("[id='" + selectedValueId + "']"), selectedNameId = txtAutoComplete.attr("selectedNameId"), selectedName = jQuery("[id='" + selectedNameId + "']"), selectedCodeId = txtAutoComplete.attr("selectedCodeId"), selectedCode = jQuery("[id='" + selectedCodeId + "']"), divItem = jQuery("[id='" + txtAutoCompleteId + "_divItem" + ID + "']"), values = selectedValue.val().split(","), names = selectedName.val().split(","), codes = selectedCode.val().split(","), tdhddDesId = txtAutoComplete.attr("tdhddDes"), tdhddDes = jQuery("[id='" + tdhddDesId + "']"), hidCodeId = txtAutoComplete.attr("hidCodId"), hidCode = jQuery("[id='" + hidCodeId + "']"), hidLastModifyItemID = txtAutoComplete.attr("hidLastModifyItemID"), hidLastModifyItem = jQuery("[id='" + hidLastModifyItemID + "']"), hidPostBackTypeID = txtAutoComplete.attr("hidPostBackTypeID"), hidPostBackType = jQuery("[id='" + hidPostBackTypeID + "']"), mode = txtAutoComplete.attr("mode"), onRemoveItem = txtAutoComplete.attr("OnRemoveItemScript"); selectedValue.val(""), selectedName.val(""), selectedCode.val(""); var blnClearAutoComplete, i; for (blnClearAutoComplete = window.chrome ? txtAutoComplete.attr("linkPostback") : null != txtAutoComplete.attr("linkPostback"), i = 0; i < values.length; i++)values[i] != ID && ("" == selectedValue.val() ? (selectedValue.val(values[i]), selectedName.val(names[i]), selectedCode.val(codes[i]), blnClearAutoComplete && (selectedValue[0].defaultValue = selectedValue.val())) : (selectedValue.val(selectedValue.val() + "," + values[i]), selectedName.val(selectedName.val() + "," + names[i]), selectedCode.val(selectedCode.val() + "," + codes[i]), blnClearAutoComplete && (selectedValue[0].defaultValue = selectedValue.val()))); blnClearAutoComplete && 1 == values.length && values[i] != ID && (selectedValue[0].defaultValue = ""), divItem.remove(), hidLastModifyItem.val(ID), hidPostBackType.val("2"), 0 == mode && (ShowAutoCompleteControls(txtAutoComplete), tdhddDes.html(""), hidCode.val("")), VerifyPostBack(txtAutoCompleteId), "function" == typeof eval(onRemoveItem) && (txtAutoComplete.unbind("onRemoveItem"), txtAutoComplete.bind("onRemoveItem", eval(onRemoveItem))), txtAutoComplete.trigger("onRemoveItem", ID) } function AutoCompleteSelectLookup(e, t, a, l) { var n = jQuery("[id='" + t + "']"), o = jQuery("[id='" + a + "']"), d = jQuery("[id='" + l + "']"); if ("" != o.val() && n.val()) { var r = { ID: o.val(), Name: n.val(), Code: d.val() }; AutoCompleteSelect(e, r), n.val(""), d.val("") } } function AutoCompleteSelectItem(txtAutoCompleteId, item, optionEvalScript) { item.Name = decodeCharHTML(item.Name); var strTitle, txtAutoComplete = jQuery("[id='" + txtAutoCompleteId + "']"), containerId = txtAutoComplete.attr("containerId"), isReadOnly = txtAutoComplete.attr("isReadOnly"), HTMLReturn = txtAutoComplete.attr("HTMLReturn"), onAddItem = txtAutoComplete.attr("OnAddItemScript"), container = jQuery("[id='" + containerId + "']"), mode = txtAutoComplete.attr("mode"), browsecode = txtAutoComplete.attr("browsecode"), sDeleteButton = "", sName = item.Name; if (strTitle = "undefined" != typeof item.Title && "" !== item.Title ? item.Title : item.Name, "undefined" != typeof getTitleWorkFlow && "function" == typeof getTitleWorkFlow && (strTitle = getTitleWorkFlow(browsecode, item.ID, strTitle)), !0 == optionEvalScript && "function" == typeof eval(onAddItem) && (txtAutoComplete.unbind("onAddItem"), txtAutoComplete.bind("onAddItem", eval(onAddItem))), null != HTMLReturn && "" != HTMLReturn && (sName = HTMLReturn.replace("ShowDialogControl(\"{FieldName}\"", "ShowDialogControl(\"" + escape(strTitle) + "\""), sName = sName.replace(/"{FieldName}"/g, "\"" + escape(item.Name) + "\"").replace(/{FieldName}/g, item.Name).replace(/{FieldID}/g, item.ID).replace(/color:blue;/g, "").replace(/{\bTitle\b[:0-9]*}/g, escape(item.Name))), "" == escape(item.Code) ? (15 <= item.Name.length && (item.Name = item.Name.substring(0, 15) + "..."), sName = sName.replace(/"{FieldCode}"/g, "\"" + escape(item.Name) + "\"").replace(/{FieldCode}/g, item.Name)) : (15 <= item.Code.length && (item.Code = item.Code.substring(0, 15) + "..."), sName = sName.replace(/"{FieldCode}"/g, "\"" + escape(item.Code) + "\"").replace(/{FieldCode}/g, item.Code)), "false" == isReadOnly) { sDeleteButton = "<img id=\"imgLookupClearValue\" style=\"cursor:pointer;\" src=\"Images/x-field.png\" onclick=\"javascript:AutoCompleteDeleteItem('" + item.ID + "', '" + txtAutoCompleteId + "');\"/>"; var disableDeleteItemList = txtAutoComplete.attr("disableDeleteItemList"); if ("" != disableDeleteItemList) { var arrDeleteItemList = disableDeleteItemList.split(","); IsInArray(arrDeleteItemList, item.ID) && (sDeleteButton = "") } } var divItem = jQuery("<div style=\"display:inline-block;padding:1px;\"/>").attr("id", txtAutoCompleteId + "_divItem" + item.ID), tblItem = jQuery("<table cellpadding=\"0\" cellspacing=\"1\" class=\"AutoCompleteSelectedItem\"><tr><td id=\"tdUserID_" + item.ID + "\" style=\"display:none\"></td><td id=\"" + txtAutoCompleteId + "tdBrowserName_" + item.ID + "\" style=\"padding-left: 5px;\">" + sName + "</td><td style=\"padding-right: 5px;height:16px;\">" + sDeleteButton + "</td></tr></table>"); 0 == mode && container.html(""), 0 == container.find("div[id=" + txtAutoCompleteId + "_divItem" + item.ID + "]").length && (tblItem.appendTo(divItem), divItem.appendTo(container)) } function AddItemToSelect(e, t) { var a, l = jQuery("[id='" + t + "']"), n = l.attr("selectedValueId"), o = jQuery("[id='" + n + "']"), d = l.attr("selectedNameId"), r = jQuery("[id='" + d + "']"), s = l.attr("selectedCodeId"), c = jQuery("[id='" + s + "']"), u = l.attr("tdhddDes"), p = jQuery("[id='" + u + "']"), g = l.attr("hidCodId"), h = jQuery("[id='" + g + "']"), m = l.attr("hidLastModifyItemID"), f = jQuery("[id='" + m + "']"), v = l.attr("hidPostBackTypeID"), b = jQuery("[id='" + v + "']"), y = l.attr("mode"), x = e.Code; -1 < x.indexOf("tdValueAutocompleteCode") && (x = jQuery(e.Code).find("#tdValueAutocompleteCode").html()), a = window.chrome ? l.attr("linkPostback") : null != l.attr("linkPostback"), "" == o.val() || 0 == y ? (o.val(e.ID), r.val(e.Name), c.val(x), a && (o[0].defaultValue = o.val())) : (o.val(o.val() + "," + e.ID), r.val(r.val() + "," + e.Name), c.val(c.val() + "," + x), a && (o[0].defaultValue = o.val())), f.val(e.ID), b.val("1"), 0 == y && (HideAutoCompleteControls(l), h.val(e.ID), p.html(e.Name)); var C = !1; e.MustCancelEvents && (C = !0), C || l.trigger("onAddItem", e.ID) } function HideAutoCompleteControls(e) { var t = e.attr("anclookupId"), a = jQuery("[id='" + t + "']"), l = e.attr("tblBoxId"), n = jQuery("[id='" + l + "']"); e.hide(), a.hide(), n.attr("class", ""), n.css("background-color", "") } function ShowAutoCompleteControls(e) { var t = e.attr("anclookupId"), a = jQuery("[id='" + t + "']"), l = e.attr("tblBoxId"), n = jQuery("[id='" + l + "']"); e.show(), a.show(), n.attr("class", "TextInputBorder"), n.css("background-color", "white") } function InitBubblePopUp() { $(window).scroll(function () { $("div[id^='jquerybubblepopup']").hide(200) }), $("img[src*='Images/Info.png']").mouseenter(function () { var e = $(this).attr("Desc"); e && ($("div[id^='jquerybubblepopup']").hide(), showBubbleDescription(this, e)) }) } function getReferenceLink(tableName, fieldCode, showResultPopUp, entityReferenceType) { if (tableName && fieldCode && "{FieldID}" != fieldCode) { var dataString = { tableName: tableName, fieldCodeValue: fieldCode, showResultPopUp: showResultPopUp, entityReferenceType: entityReferenceType }; jQuery.ajax({ type: "POST", url: "Components/Controls/EntityReference.ashx", data: dataString, cache: !1, success: function (html) { var result = eval("(" + html + ")"); result.success && jQuery("div[id$='dvInnerHTML" + fieldCode + "']").each(function () { var e = jQuery(this); if ("" == e.html()) { e.append(result.html); var t = jQuery("input[id$='txtEntityReferenceControl']"); 0 < t.length && t.val(result.entityReferenceID) } }) } }) } } function OpenCalendar(e, t) { e = GetID(e), window.showModalDialog(gbAppPathStatic + "/Framework/General/Calendar.aspx?formname=" + document.forms[0].name + "&id=" + e + "&selected=" + document.forms[0].elements[e].value + "&postBack=" + t, window, "dialogWidth:200px;dialogHeight:220px;dialogLeft:200px;dialogTop:250px;scroll:no;status:no;"), t && __doPostBack(e, "") } function SetDate(formName, id, newDate, postBack) { id = GetID(id), eval("var theform = document." + formName + ";"); var txtID = id.replace(/[$]/g, "_"), txt = document.getElementById(txtID), SelectId = id.replace("txt", "oSelectDate_").replace(/[$]/g, "_"); SetSelectDateDefaultOption(SelectId), SetValueTextbox(txtID, newDate), txt.IdRange && SetRange(txt.IdRange), UpdateValidator(theform.elements[id]) } function SetSelectDateDefaultOption(e) { var t = document.getElementById(e); t && (t.options[0].selected = !0) } function OpenBrowserOld(e, t, a, l, n, o, d) { window.showModalDialog(gbAppPathStatic + "/Browser.aspx?FormName=" + document.forms[0].name + "&objID=" + e + "&objDescription=" + t + "&fieldID=" + n + "&fieldDescription=" + o + "&cmdType=" + a + "&cmdText=" + l + "&ID=" + document.forms[0].elements[e].value + "&postBack=" + d, window, "dialogWidth:600px;dialogHeight:400px;dialogLeft:50px;dialogTop:100px;scroll:yes;status:no"), DoPostBack(d, e) } function OpenBrowserMCID(e, t, a, l, n) { window.showModalDialog(gbAppPathStatic + "/Browser.aspx?FormName=" + document.forms[0].name + "&objID=" + e + "&objDescription=" + t + "&ReportID=" + a + "&ID=" + l + "&postBack=" + n, window, "dialogWidth:600px;dialogHeight:400px;dialogLeft:50px;dialogTop:100px;scroll:yes;status:no"), DoPostBack(n, e) } function ShowModalDialogEx(e, t, a, l, n, o, d, r, s = !1) { t += "&PopUpWindow=1&HiddenHeader=1", CreateDialog(e, "<iframe id=\"iFrameControl\" style=\"overflow:none\" frameborder=\"0\" />", !s), ShowDialog(a, l, o, void 0, n, t, s); var c = jQuery("#iFrameControl"); r != null && "" != r && c.css("height", r), d != null && "" != d && c.css("width", d), c.css("max-width", "100%"), c.attr("src", t) } function ShowModalDialog(e, t, a, l, n, o) { ShowModalDialogEx(e, t, a, l, n, o, "100%", "100%") } function OpenBrowser(e, t, a, l) { OpenBrowserEx(e, t, a, l, "", "") } function OpenBrowserEx(e, t, a, l, n, o, d, r, s, c) { ShowModalDialog(s, gbAppPathStatic + "/Browser.aspx?FormName=" + document.forms[0].name + "&objID=" + e + "&objDescription=" + t + "&objCodeAux=" + o + "&ReportID=" + a + "&postBack=" + l + "&txtAutoCompleteID=" + r + n, 800, "auto", c, function () { DoPostBack(l, e, d) }) } function OpenBrowserID(e, t, a, l, n) { OpenBrowserIDEx(e, t, a, l, n, "", "") } function OpenBrowserIDEx(e, t, a, l, n, o, d, r, s, c, u) { var p = jQuery("input[id$='" + l + "']").val(); "" != p && ShowModalDialog(c, gbAppPathStatic + "/Browser.aspx?FormName=" + document.forms[0].name + "&objID=" + e + "&objDescription=" + t + "&objCodeAux=" + d + "&ReportID=" + a + "&ID=" + p + "&postBack=" + n + "&txtAutoCompleteID=" + s + o, 800, "auto", u, function () { DoPostBack(n, e, r) }) } function SetBrowseID(formName, objID, objDescription, newID, newDescription, postBack, objCodeAux, newCodeAux) { if ("" != formName || "" != objID) { objID = GetID(objID); var strDescID = objDescription.toString().split(":tdCode")[0] + "$tdhdd" + objDescription.toString().split(":tdCode")[1]; objDescription = GetID(objDescription), eval("var theform = document." + formName + ";"); var item = { ID: "" + newID + "", Name: newDescription, Code: newCodeAux.toString() }, id = objID.replace(/hidCod/g, "txtAutoCompleteLookup"); AutoCompleteSelect(id, item), theform.elements[objID].value = newID, UpdateValidator(theform.elements[objID]); var controlDesc = theform.elements[objDescription]; controlDesc ? theform.elements[objDescription].value = newDescription : (strDescID = strDescID.replace(/[$]/gi, "_"), objDescription = objDescription.replace(/[$]/gi, "_"), SetBrowserDesription(strDescID, objDescription, newDescription, newID)), "" != objCodeAux && (objCodeAux = GetID(objCodeAux), theform.elements[objCodeAux].value = newCodeAux, UpdateValidator(theform.elements[objCodeAux])) } } function replaceAll(e, t, a) { for (; -1 != e.toString().indexOf(t);)e = e.toString().replace(t, a); return e } function SetBrowserValueApeareanceMin(e) { SetBrowserValueApeareance(e.replace("tdCode", "txt") + "Code", e, e.replace("tdCode", "txt") + "CodeAux", e.replace("tdCode", "tdhdd")) } function SetBrowserValueApeareance(e, t, a, l) { var n = jQuery("#" + replaceAll(a, "$", "_")), o = e.substring(0, e.lastIndexOf("Code")); if ("False" == n.attr("ShowCodeAux")) { var d = jQuery("#" + e); d.attr("class", "CodeAuxDocumentBrowserSelected"), d.css("visibility", "hidden"), d.css("width", "0") } else n.attr("class", "CodeAuxDocumentBrowserSelected"), n.css("visibility", "hidden"), n.css("width", "0"); var r = jQuery("#" + t); r.css("padding-left", "5px"), r.css("padding-right", "5px"), r.find("td.Baselink").css("font-size", "11px"); var s = jQuery("#" + o.replace("_txt", "_img")); (s.attr("bkImage") == null || "" == s.attr("bkImage")) && s.attr("bkImage", s.attr("src")), s.attr("src", "Images/x-field.png"); var c = jQuery("#" + o.replace("_txt", "_lnk")); (c.attr("bkOnclick") == null || "" == c.attr("bkOnclick")) && c.attr("bkOnclick", c.attr("onclick")), c.attr("onclick", "javascript:RestoreBrowserEmptyApeareance('" + e + "','" + t + "','" + a + "','" + l + "');"); var u = jQuery("#" + o.replace("_txt", "_tblLookUp")); u.attr("class", "DocumentBrowserSelectedValue"); var p = jQuery("#" + o.replace("_txt", "_tdhdd")); p.css("font-size", "0"), p.find("td.Baselink").css("font-size", "0px") } function RestoreBrowserEmptyApeareanceMin(e, t, a, l) { RestoreBrowserEmptyApeareance(replaceAll(e, "$", "_"), replaceAll(t, "$", "_"), replaceAll(a, "$", "_"), replaceAll(l, "$", "_")) } function RestoreBrowserEmptyApeareance(e, t, a, l) { var n = document.getElementById(t), o = l.replace("_tdhdd", "_hddDesc"), d = document.getElementById(o); o = l.replace("_tdhdd", "_hddDescValue"); var r = document.getElementById(o), s = e.substring(0, e.lastIndexOf("Code")); n.innerHTML = "", jQuery("#" + t).css("padding", "0"), d != null && (d.value = ""), r != null && (r.value = ""); var c = jQuery("#" + a); if ("False" == c.attr("ShowCodeAux")) { var u = jQuery("#" + e); u.attr("class", "text-field CodeAuxDocumentBrowserEmpty"), u.css("visibility", "visible"), u.css("border-width", "0"), u.css("width", "80px"), u.val("") } else c.attr("class", "text-field CodeAuxDocumentBrowserEmpty"), c.css("visibility", "visible"), c.css("border-width", "0"), c.css("width", "80px"), c.val(""); var p = jQuery("#" + e); p.val(""); var g = jQuery("#" + s.replace("_txt", "_img")); g.attr("src", g.attr("bkImage")); var h = jQuery("#" + s.replace("_txt", "_lnk")); h.attr("onclick", h.attr("bkOnclick")); var m = jQuery("#" + s.replace("_txt", "_tblLookUp")); m.attr("class", "DocumentBrowserEmptyValue TableDocumentBrowserEmpty") } function OpenBrowserWithMasterControlID(e, t, a, l, n, o) { window.showModalDialog(gbAppPathStatic + "/Browser.aspx?FormName=" + document.forms[0].name + "&objID=" + e + "&objDescription=" + t + "&ReportID=" + a + "&ID=" + document.forms[0].elements[l].value + "&objMasterID=" + l + "&objMasterDescription=" + n + "&postBack=" + o, window, "dialogWidth:600px;dialogHeight:400px;dialogLeft:50px;dialogTop:100px;scroll:yes;status:no"), DoPostBack(o, e) } function SetBrowserMasterID(oID, oDescription, valueID, valueDescription, masterID, masterDescription, masterValueID, masterValueDescription, postBack) { objID = GetID(oID), objDescription = GetID(oDescription), objMasterID = GetID(masterID), objMasterDescription = GetID(masterDescription), eval("var theform = document." + document.forms[0].name + ";"), theform.elements[objID].value = valueID, theform.elements[objDescription].value = valueDescription, theform.elements[objMasterID].value = masterValueID, theform.elements[objMasterDescription].value = masterValueDescription, !0 == postBack ? __doPostBack(objID, "") : !1 != postBack && eval("__doPostBack('" + postBack + "','');") } function GetID(e) { return e = e.replace(":", "$"), e } function OpenBrowserWCID(e, t, a, l, n) { popUp = window.open("Browser.aspx?FormName=" + document.forms[0].name + "&objID=" + e + "&objDescription=" + t + "&ReportID=" + a + "&ID=" + l + "&postBack=" + n, "popupbrowse", "width=600,height=400,left=50,top=100,scrollbars=yes,hotkeys=no,titlebar=no, location=no, menubar=no, status=no") } function ShowCourseID(e, t) { EnableCoursePopUp("Default.aspx?UCtl=28&CourseStudentID=" + e + "&ScreenSize=" + t, t) } function ShowCoursePreview(e, t, a, l) { EnableCoursePopUp("Default.aspx?UCtl=28&Start=0&Preview=1&CourseStudentID=-1&CourseID=" + e + "&CourseIndexID=" + t + "&ScreenSize=" + a + "&ShowAll=" + l, a) } function EnableCoursePopUp(e, t, a) { a == null && (a = "Course"); if (0 == t) window.showModalDialog(e, a, "dialogWidth:640px;dialogHeight:480px;dialogLeft:0px;dialogTop:0px;help:no;resizable:yes;status:no;"); else if (2 == t) window.showModalDialog(e, a, "dialogWidth:1024px;dialogHeight:768px;dialogLeft:0px;dialogTop:0px;help:no;resizable:yes;status:no;"); else if (3 == t) window.showModalDialog(e, a, "dialogWidth:1280px;dialogHeight:720px;dialogLeft:0px;dialogTop:0px;help:no;resizable:yes;status:no;"); else if (4 == t) { var l = 350, n = (screen.height - l) / 2, o = (screen.width - 630) / 2; window.chrome || (l += "px"), window.showModalDialog(e, a, "dialogWidth:630px;dialogHeight:" + l + ";dialogLeft:" + o + "px;dialogTop:" + n + "px;help:0;resizable:0;status:0;scroll:0;") } else window.showModalDialog(e, a, "dialogWidth:800px;dialogHeight:600px;dialogLeft:0px;dialogTop:0px;help:no;resizable:yes;status:no;") } function EnableCoursePopUpEx(e, t, a) { if (0 == t) popUp = window.open(e, a, "width=640,height=480,scrollbars=yes,hotkeys=no,titlebar=no, location=no, menubar=no, status=no"); else if (2 == t) popUp = window.open(e, a, "width=1024,height=768,scrollbars=yes,hotkeys=no,titlebar=no, location=no, menubar=no, status=no"); else if (3 == t) popUp = window.open(e, a, "width=1280,height=720,scrollbars=yes,hotkeys=no,titlebar=no, location=no, menubar=no, status=no"); else if (4 == t) { var l = 630, n = 350, o = "scrollbars=no,resizable=0", d = (screen.height - n) / 2, r = (screen.width - l) / 2; popUp = window.open(e, a, "width=" + l + ",resizable=1,height=" + n + ",top=" + d + ",left=" + r + "," + o + ",scrollbars=yes,hotkeys=no,titlebar=no, location=no, menubar=no, status=no") } else { var l = 800, n = 600, o = "scrollbars=no,resizable=no", d = (screen.height - n) / 2, r = (screen.width - l) / 2; popUp = window.open(e, a, "width=" + l + ",resizable=1,height=" + n + ",top=" + d + ",left=" + r + "," + o + ",scrollbars=yes,hotkeys=no,titlebar=no, location=no, menubar=no, status=no") } popUp.focus() } function ShowWindow(e, t) { popUp = window.open(e, t, "width=800,height=600,left=50,top=50,scrollbars=yes,hotkeys=no,titlebar=yes, location=yes, menubar=yes, status=yes") } function ShowControlID(e) { popUp = window.open("Default.aspx?UCtl=" + e, "Control", "width=800,height=600,left=50,top=50") } function ShowPage(e) { popUp = window.open(e + ".aspx", "Page", "width=800,height=600,left=50,top=50") } function ClosePage() { popUp = window.close() } function ShowContactUS(e) { popUp = window.open("Default.aspx?UCtl=37&UserID=" + e, "Course", "width=800,height=600,left=50,top=50,scrollbars=yes,hotkeys=no,titlebar=yes, location=no, menubar=no, status=yes") } function OpenWindow(e) { EnableCoursePopUp(e, 1) } function OpenWindowWithID(e, t) { EnableCoursePopUp(e, 1, t) } function OpenWindowWithIDEx(e, t) { EnableCoursePopUpEx(e, 1, t) } function OpenWindowWithScreen(e, t) { EnableCoursePopUp(e, t) } function OpenWindowWithIDAndScreen(e, t, a) { EnableCoursePopUp(e, t, a) } function PrintReport(e, t, a) { ShowModalDialog("", "PrintReport.aspx?Print=1&" + e + "&hidFile=" + t + "&hidChartType=" + a, 800, 600, "", !1) } function ShowTreeDocumentCategory(e, t) { EnableCoursePopUp("Default.aspx?TabID=12&IsOnlyForShow=" + t + "&CategoryID=" + e + "&PopUpWindow=1", 1, "TreeDocumentCategory") } function ShowTreeAccountCategory(e, t) { EnableCoursePopUp("Default.aspx?TabID=28&IsOnlyForShow=" + t + "&CategoryID=" + e + "&UOpt=-1", 1, "TreeAccountCategory") } function ChangeHTML() { } function EncodeSingular(e) { e.value = e.value.replace(/&#/g, "& #"), e.value = e.value.replace(/</g, "&lt;"), e.value = e.value.replace(/>/g, "&gt;"), e.maxLength && 0 < e.maxLength && (e.value = e.value.substring(0, e.maxLength)) } function EncodeHTMLValues() { jQuery("[onblur^='ChangeHTML']").each(function () { EncodeSingular(jQuery(this).get(0)) }) } function DecodeHTMLValues() { jQuery("[onblur^='ChangeHTML']").each(function () { var e = jQuery(this).get(0); e.value = e.value.replace(/& #/g, "&#"), e.value = e.value.replace(/&lt;/g, "<"), e.value = e.value.replace(/&gt;/g, ">") }) } jQuery(document).ready(function () { jQuery("#frmMain").submit(function () { EncodeHTMLValues() }), DecodeHTMLValues() }); function maxlength(t, a, l) { if (document.selection && document.selection.createRange() && document.selection.createRange().text && 0 < document.selection.createRange().text.length) return !0; window.event && (t = window.event); var n = t.keyCode ? t.keyCode : t.which; if (t && a && 0 < l) { a.value.length >= l && 8 != n && 64 != t.key && 9 != n && 37 != n && 38 != n && 39 != n && 40 != n && 46 != n && (a.value = a.value.substring(0, l), a.value.length > l && (a.value = a.value.substring(0, l - 1)), CancelEvent(t)); var o = a.value.replace(/\r?\n|\r/g, "  ").length; return o >= l && 8 != n && 64 != t.key && 9 != n && 37 != n && 38 != n && 39 != n && 40 != n && 46 != n && (a.value = a.value.substring(0, a.value.length - (o - l)), CancelEvent(t)), !0 } return !0 } function ChangeHTMLNumericField(e) { isNaN(e.value) ? e.value = "" : ChangeHTML(e) } function OpenWindowWithMyProperties(e, t, a) { "Search" == a ? window.open(e, t, "dialogWidth=600px; dialogHeight=345px; scrollbars=yes; hotkeys=yes; titlebar=yes; location=no; menubar=no; status=yes") : window.open(e, t, "dialogWidth=600px; dialogHeight=345px; scrollbars=yes; hotkeys=no; titlebar=no; location=no; menubar=no; status=no") } var divListID, descriptionID, txtCodeID, txtCodeAuxID, txtFieldID, oEventJS, oPostback = !1; window.onscroll = RepositionList; function SetPostback(e, t) { e = e.replace("_divList", "_lnk"); var a = document.getElementById(e), l = a.attributes, n = l.onclick.nodeValue, o = n.split(","); oPostback = t, oPostback = "false" != o[3] && o[3].replace(/["'"]/gi, "") } function GetList(t, a, l, n, o, d, r, s, c, u, p, g, h, m, f, e, v) { divListID = a, txtCodeID = t, txtCodeAuxID = c, txtFieldID = t, descriptionID = n, SetPostback(divListID, p); var b = document.getElementById(t), y = document.getElementById(t); "true" == u && (y = document.getElementById(c)); for (var a = document.getElementById(a), x = 0, C = 0, w = y.offsetParent; w;)x += w.offsetLeft, C += w.offsetTop, w = w.offsetParent; 9 != f.keyCode && 16 != f.keyCode && (y.value.length >= o && 13 != f.keyCode && 9 != f.keyCode ? (a.style.top = C + 23 - document.documentElement.scrollTop + "px", a.style.left = x + 2 - document.documentElement.scrollLeft + "px", u && isNaN(parseInt(y.value)) ? e && General.Web.Services.AutoComplete.GetCompletionList(y.value, d, l, y.id, a.id, descriptionID, r, s, b.id, u, v, Succesfull, Wrong, null) : (oEventJS = "onkeyup", FindID(null, y.id, descriptionID, l, c, u, g, s, h, m, oEventJS))) : y.value.length >= o || 13 == f.keyCode ? e && (SuccesDescription("*FirtsRow*"), a.style.visibility = "hidden") : 0 == y.value.length && e && (SuccesDescription(""), a.style.visibility = "hidden")) } function Succesfull(e) { var t = document.getElementById(divListID); if (t) if (t.innerHTML = e, 0 < e.toString().length) { var a = e.search("input type='hidden' id='hntxtWordID' name='hntxtWordID' value='") + 63, l = e.indexOf("'", a), n = e.substring(a, l); txtCodeAuxID == n && (t.style.visibility = "visible", t.style.display = "inline") } else t.style.visibility = "hidden" } function Wrong() { } function SelectItem(e) { var t = document.getElementById(e); t.bgColor = "#CCCCCC" } function UnSelectItem(e) { var t = document.getElementById(e); t.bgColor = "" } function OnClickItem(e, t, a, l, n, o) { var l = document.getElementById(l), a = document.getElementById(a), t = document.getElementById(t), e = document.getElementById(e), d = descriptionID.toString().split("_tdCode")[0] + "_tdhdd" + descriptionID.toString().split("_tdCode")[1], r = document.getElementById(d); if (2 == e.cells.length ? (a.value = e.cells[1].innerHTML, UpdateValidator(a)) : (t.value = e.cells[1].innerHTML, a.value = CompatibleText(e.cells[2]), UpdateValidator(t), UpdateValidator(a)), l.style.visibility = "hidden", r) { SetBrowserDesription(d, descriptionID, CompatibleText(e.cells[0]), e.cells[1].innerHTML); var s = divListID.replace(/[_]/gi, "$"); s = s.replace("divList", "txt"), DoPostBack(oPostback, s, o) } } function CompatibleText(e) { var t, a = IsBrowserIE(); return t = a ? e.innerText : e.textContent, t } function IsBrowserIE() { var e = 0 < window.navigator.userAgent.indexOf("MSIE") || !!window.MSInputMethodContext; return e } function UpdateValidator(e) { var t; if ("undefined" != typeof e.Validators) { t = e.Validators; var a; for (a = 0; a < t.length; a++)ValidatorValidate(t[a]); ValidatorUpdateIsValid() } } function HideList(e, t, a, l, n, o, d, r, s, c, u, p) { oEventJS = "onblur"; var g = document.getElementById(o); if (g || (g = document.getElementById(a)), g) { var h = new String; if (h = g.value.toString(), -1 != h.indexOf("#")) SuccesDescription(""); else if (FindID(e, a, l, n, o, d, r, s, c, u, oEventJS, p)) { var m = t.replace(/[_]/gi, "$"); t = document.getElementById(t), t.style.visibility = "hidden", m = m.replace("divList", "txt"), DoPostBack(oPostback, m), txtCodeAuxID = "" } } } function SuccesDescription(e) { var t, a, l, n, o, d, r; if (e || "" == e) { var s = []; if (s = e.toString().split("#"), 6 <= s.length ? 6 == s.length ? (n = s[0], o = s[1], t = s[2], a = s[3], l = s[4], r = s[5]) : (n = s[0], o = s[1], d = s[2], t = s[3], a = s[4], l = s[5], r = s[6]) : ("" == e || "*FirtsRow*" == e ? (t = txtCodeID, a = txtCodeAuxID, l = descriptionID, r = a && "" != a ? document.getElementById(a).value : document.getElementById(t).value) : (t = s[0], a = s[1], l = s[2], r = s[3]), n = a && "" != a ? document.getElementById(a).value : document.getElementById(t).value, d = ""), "*FirtsRow*" == e) { var c = document.getElementById("tr" + txtCodeID + "0"); c && (2 == c.cells.length ? (n = c.cells[1].innerHTML, o = CompatibleText(c.cells[0])) : (n = CompatibleText(c.cells[2]), o = CompatibleText(c.cells[0]), d = c.cells[1].innerHTML)) } n && "*FirtsRow*" != n || (n = "", d = ""), o || (o = ""), d || (d = ""), o || "onblur" != oEventJS || (n = "", d = ""); var u = l.toString().split("_tdCode")[0] + "_tdhdd" + l.toString().split("_tdCode")[1], p = document.getElementById(u), g = document.getElementById(a), h = document.getElementById(t); h || (h = g), (h.value == r || "" == e) && (h.value = n, g && h != g && (UpdateValidator(g), g.value = d, UpdateValidator(g)), p && ("" == d ? SetBrowserDesription(u, l, o, n, h.id) : SetBrowserDesription(u, l, o, d, h.id))) } } function SetBrowserDesription(strDescID, objDescription, newDescription, newID, txtID) { var tdDesc = document.getElementById(objDescription), strID = strDescID.replace("_tdhdd", "_hddDesc"), tdDesc = document.getElementById(objDescription), hddDesc = document.getElementById(strID); strID = strDescID.replace("_tdhdd", "_hddDescValue"); var hddDescValue = document.getElementById(strID); if ("" == newDescription || "" == newID) tdDesc.innerHTML = "", hddDesc.value = "", hddDescValue.value = ""; else { var tdOriginal = document.getElementById(strDescID), controlHTML = tdOriginal.innerHTML; if (controlHTML = controlHTML.replace(/\{FieldName\}/gi, newDescription), controlHTML = controlHTML.replace(/\{FieldID\}/gi, newID), controlHTML = controlHTML.replace("font-size: 0px;", ""), controlHTML = controlHTML.replace("hidden", "visible"), controlHTML = controlHTML.replace("hdd_", ""), tdDesc.innerHTML = controlHTML, hddDesc.value = controlHTML, hddDescValue.value = newDescription, ChangeHTML(hddDesc), "" != tdDesc.innerHTML) { var strScript = tdDesc.innerHTML.replace("<SCRIPT>", "<script>").replace("</SCRIPT>", "</script>"), pattern = "<script>.*</script>", reg = new RegExp(pattern), matchArray = reg.exec(strScript); null != matchArray && eval(matchArray[0].replace("<script>", "").replace("</script>", "")) } SetBrowserValueApeareanceMin(objDescription) } txtID && (txtID = document.getElementById(txtID.replace("CodeAux", "Code")), txtID.value = "" == newDescription ? "" : newID) } function DoPostBack(postBack, objID, clientScript) { "" == clientScript ? !0 == postBack || "true" == postBack ? __doPostBack(objID, "") : !1 != postBack && "false" != postBack && eval("__doPostBack('" + postBack + "','');") : eval(clientScript) } function RepositionList() { var e = document.getElementById(divListID), t = document.getElementById(txtCodeID); RepositionControl(e, t) } function RepositionControl(e, t) { if (e && t) { for (var a = 0, l = 0; t;)a += t.offsetLeft, l += t.offsetTop, t = t.offsetParent; e.style.top = l + 23 - document.documentElement.scrollTop + "px", e.style.left = a + 2 - document.documentElement.scrollLeft + "px" } } function FindID(t, a, l, n, o, d, r, s, c, u, p, g) { oEventJS = p, descriptionID = l, txtCodeID = a, txtFieldID = a, "true" == d && (txtCodeID = o); var a = document.getElementById(txtCodeID); if ("" != r) { r = r.replace(/[$]/gi, "_"); var e = document.getElementById(r) } var h = ""; if (e) var h = e.value; for (var m = 0, f = !0; document.getElementById(t + m);)document.getElementById(t + m).getAttribute("bgColor") && (f = !1), m += 1; return divListID && (divList = document.getElementById(divListID), "visible" == divList.style.visibility && 0 < m && !0 == f && g) ? (SuccesDescription("*FirtsRow*"), !0) : (f && General.Web.Services.AutoComplete.GetDescription(a.value, n, d, h, s, c, u, a.id, o, descriptionID, SuccesDescription, Wrong, null), f) } function ValidateMUID(e, t, a) { var l = document.getElementById(t), n = document.getElementById(a); if (l) { var o = l.value; return !!(o && "" != o) || (n.value = "", !1) } } function OpenBrowserCE(e, t, a, l, n, o, d) { var r = CuteEditor_GetEditor(e); ShowModalDialog(n, gbAppPathStatic + "/Browser.aspx?BrowserCE=true&ReportID=" + t + "&RecordID=" + a + "&HrefTabID=" + l + d + "&editorID=" + r.id, 600, 50, o) } function InsertSpecialBrowser(e, t, a) { var l = parent.document.getElementById(a), n = "<a href=\"" + e + "\">" + t + "</a>"; l ? l.PasteHTML(n) : window.opener && window.opener.PasteHTML(n), closeModalDialog() } function callInsertDocMedia(e, t) { var a = CuteEditor_GetEditor(e), l = showModelessDialog("Framework/CuteEditor/CECustomMedia.aspx?DocumentNo=" + t, a, "dialogWidth:550px;dialogHeight:428px;") } function SetHourFormat(e) { var t = document.getElementById(e), a = t.value.length; switch (a) { case 1: if (!1 == isNaN(t.value)) t.value += ":00"; else { t.value = ""; break } break; case 2: if (!1 == isNaN(t.value) && 24 > parseInt(t.value)) { t.value += ":00"; break } else { t.value = ""; break } case 3: var l = t.value.substring(1, 2) + t.value.substring(2, 3), n = t.value.substring(0, 1); if (":" == n) n = "0:"; else if (!1 == isNaN(n)) n += ":"; else { t.value = ""; break } if (!1 == isNaN(l) && 60 > parseInt(l)) { t.value = n + l; break } else { t.value = ""; break } case 4: var l = t.value.substring(2, 3) + t.value.substring(3, 4), n = t.value.substring(0, 1) + t.value.substring(1, 2); if (":" == t.value.substring(1, 2) && !1 == isNaN(t.value.substring(0, 1))) n = t.value.substring(0, 1) + ":"; else if (!1 == isNaN(t.value.substring(1, 2)) && !1 == isNaN(t.value.substring(0, 1))) { if (n = t.value.substring(0, 1) + t.value.substring(1, 2), 0 == parseInt(t.value.substring(0, 1)) && (n = t.value.substring(1, 2)), 23 < parseInt(n)) { t.value = ""; break } n += ":" } else { t.value = ""; break } if (!1 == isNaN(l) && 60 > parseInt(l)) { t.value = n + l; break } else { t.value = ""; break } case 5: var l = t.value.substring(3, 4) + t.value.substring(4), n = t.value.substring(0, 1) + t.value.substring(1, 2); if (0 == parseInt(t.value.substring(0, 1)) && (n = t.value.substring(1, 2)), ":" == t.value.substring(2, 3) && !1 == isNaN(n) && !1 == isNaN(l) && 60 > parseInt(l) && 24 > parseInt(n)) { t.value = n + ":" + l; break } else { t.value = ""; break } } } function BackOption() { General.Web.Services.GeneralOptionsService.BackOption(SuccesBack, WrongBack, null) } function SuccesBack(e) { document.location.href = e } function WrongBack() { } function openFavorites(e) { var t = window.location, a = t.search + "&AddManualURL=" + e, l = "300"; 0 < e && (l = "350"), window.open("Framework/Favorites/AddFavorites.aspx" + a, "MyFavorites", "width=420,height=" + l + ",left=50,top=100,scrollbars=no,hotkeys=no,titlebar=no, location=no, menubar=no, status=no") } function OpenModifiedFolder() { window.open("Framework/Favorites/ModifiedFavorite.aspx", "MyModifiedFavorite", "width=400,height=270,left=50,top=100,scrollbars=no,hotkeys=no,titlebar=no, location=no, menubar=no, status=no") } function getDimensions(e) { var t, a, l, n; if (t = a = l = n = 0, document.getBoxObjectFor) { var o = document.getBoxObjectFor(e); t = o.x - 1, l = o.width, a = o.y - 1, n = o.height } else if (e.getBoundingClientRect) { var d = e.getBoundingClientRect(); t = d.left - 2, l = e.clientWidth, a = d.top - 2, n = e.clientHeight } return { x: t, y: a, w: l, h: n } } function hideControlMenu() { var e = document.getElementById("divShowControl"); e.style.visibility = "hidden" } function showControlMenu(e, t) { var a = document.getElementById("divShowControl"), l = document.getElementById("iframeControl"), n = getDimensions(document.getElementById(e)); l.src = t, a.style.top = n.y + document.documentElement.scrollTop - 30, a.style.left = n.x + document.documentElement.scrollLeft + 170, a.style.visibility = "visible" } function WindowSize() { var e = [0, 0]; return e = "undefined" == typeof window.innerWidth ? "undefined" != typeof document.documentElement && "undefined" != typeof document.documentElement.clientWidth && 0 != document.documentElement.clientWidth ? [document.documentElement.clientWidth, document.documentElement.clientHeight] : [document.getElementsByTagName("body")[0].clientWidth, document.getElementsByTagName("body")[0].clientHeight] : [window.innerWidth, window.innerHeight], e } function SetValueTextbox(e, t) { var a = document.getElementById(e); a.AjaxControlToolkitTextBoxWrapper ? a.AjaxControlToolkitTextBoxWrapper.set_Value(t) : a.value = t } function SetRange(e) { var t = document.getElementById(e); t.value = "0" } function GetSynchronousWS(url, postData) { var xmlhttp = null; window.XMLHttpRequest ? xmlhttp = new XMLHttpRequest : window.ActiveXObject && (new ActiveXObject("Microsoft.XMLHTTP") ? xmlhttp = new ActiveXObject("Microsoft.XMLHTTP") : xmlhttp = new ActiveXObject("Msxml2.XMLHTTP")), xmlhttp.open("POST", url, !1), xmlhttp.setRequestHeader("Content-Type", "application/json; charset=utf-8"), xmlhttp.send(postData); var responseText = xmlhttp.responseText, result = eval("(" + responseText + ")"); return result.d } function ValidationExpression(e, t, a, l) { if (e && a) { if (0 < e.value.length && null != e.value.match(/^["0-9"]+$/gi) && 0 < e.value.replace(/[^0-9]*/g, "")) { var n = ""; for (i = 0; i < t; i++)n += "0"; e.value = e.value + l + n } if (0 < e.value.length && null != e.value.match(c)) { var n = e.value.split(l), o = n[0], d = n[1]; if (o && 3 < o.length) { var r; r = "," == l ? "." : ",", o = o.replace(new RegExp("[\\" + r + "]+", "g"), ""); for (var s = /([0-9]+)([0-9]{3})/; s.test(o);)o = o.replace(s, "$1" + r + "$2"); e.value = o + l + d } } var c = new RegExp(a, "g"), n = e.value.match(c); null == n && (0 < e.value.length ? (e.value = "", SetDefaultNumber(e, t, l)) : e.value = ""), 0 < e.value.length && UpdateValidator(e) } } function AllowKeyInTextboxDecimal(e) { var t, a = [8, 9, 13, 16, 17, 18, 35, 36, 37, 39, 46], l = !1; for (t = 0; t < a.length; t++)a[t] == e && (l = !0); return l } function ValidateNumberOnKeypres(t, a, l, n) { window.event && (n = window.event); var o = n.keyCode ? n.keyCode : n.which, d = AllowKeyInTextboxDecimal(o) || n.ctrlKey; if (0 >= t.value.length) SetDefaultNumber(t, a, l); else if (47 < o && 58 > o || 95 < o && 106 > o || d) { if (!isKeyNumeric(o) && !d) return CancelEvent(n); n.returnValue = !0 } else return CancelEvent(n) } function SetFormatDecimalPart(e, t, a) { var l = e.value.indexOf(a), n = GetCursorPosition(e); if (n > l) { var o = e.value.split(a), d = o[0], r = o[1]; r && r.length >= t && (r = r.substring(0, t - 1), e.value = d + a + r, SetCursorPosition(e, n)) } } function SetFormatScalePart(e, t, a) { var l = e.value.indexOf(a), n = GetCursorPosition(e); if (n <= l) { var o = e.value.indexOf("0"); 0 == o && (e.value = e.value.substring(1, e.value.length), IsBrowserIE() ? SetCursorPosition(e, n - 1) : setTimeout(function () { SetCursorPosition(e, n - 1), 0 })) } } function isKeyNumeric(e) { return !!(47 < e && 58 > e || 95 < e && 106 > e) } function GetKeyNumericValue(e) { var t = 0; switch (e) { case 48: t = 0; break; case 49: t = 1; break; case 50: t = 2; break; case 51: t = 3; break; case 52: t = 4; break; case 53: t = 5; break; case 54: t = 6; break; case 55: t = 7; break; case 56: t = 8; break; case 57: t = 9; break; case 96: t = 0; break; case 97: t = 1; break; case 98: t = 2; break; case 99: t = 3; break; case 100: t = 4; break; case 101: t = 5; break; case 102: t = 6; break; case 103: t = 7; break; case 104: t = 8; break; case 105: t = 9; break; default: t = 0; }return t } function ValidateNumberOnKeyUp(t, a, l, n, o) { window.event && (o = window.event); var d = o.keyCode ? o.keyCode : o.which; if (isKeyNumeric(d) || 46 == d || 8 == d) { var r, s = GetCursorPosition(t); r = "," == n ? "." : ","; var c = t.value.split(n), u = c[0], p = c[1]; if (p == null && (46 == d || 8 == d)) return CancelEvent(o); if (u && 3 < u.length) { var g, h = u.match(new RegExp("[\\" + r + "]+", "g")); u = u.replace(new RegExp("[\\" + r + "]+", "g"), ""); for (var m = /([0-9]+)([0-9]{3})/; m.test(u);)u = u.replace(m, "$1" + r + "$2"); g = u.match(new RegExp("[\\" + r + "]+", "g")), t.value = u + n + p, 46 != d && 8 != d && (!h && g || h && g && h.length < g.length) ? SetCursorPosition(t, s + 1) : (46 == d || 8 == d) && (h && !g || h && g && h.length > g.length) ? SetCursorPosition(t, s - 1) : SetCursorPosition(t, s) } } var f = new RegExp(l, "g"), c = t.value.match(f); if (null == c && (0 < t.value.length && SetDefaultNumber(t, a, n), isKeyNumeric(d))) { c = ""; var v; for (v = 0; v < a; v++)c += "0"; var b = t.maxLength - 2; if (b == a) return t.value = "0" + t.value, SetCursorPosition(t, 1), CancelEvent(o); t.value = GetKeyNumericValue(d) + n + c, SetCursorPosition(t, 1) } } function ValidateNumberOnKeyDown(t, a, l, n) { window.event && (n = window.event); var o = n.keyCode ? n.keyCode : n.which, d = GetCursorPosition(t), r = t.value.indexOf(l); if (190 == o && "." == l || 110 == o && "." == l || 188 == o && "," == l) return SetCursorPosition(t, r + 1), CancelEvent(n); if (190 == o || 110 == o || 188 == o) return CancelEvent(n); if (0 == d && (48 == o || 96 == o)) return CancelEvent(n); if (0 >= t.value.length && SetDefaultNumber(t, a, l), 47 < o && 58 > o || 95 < o && 106 > o) ValidateScale(t, a, l, n), SetFormatDecimalPart(t, a, l), SetFormatScalePart(t, a, l); else if (!AllowKeyInTextboxDecimal(o) && !n.ctrlKey) return CancelEvent(n) } function ValidateScale(e, t, a) { var l = GetCursorPosition(e), n = e.value.indexOf(a); if (l <= n || -1 == n) { var o = e.maxLength - 2; o == t && (e.value = e.value.substring(0, e.value.length - 1), SetCursorPosition(e, n + 1)) } } function CancelEvent(t) { return t.cancelBubble = !0, t.returnValue = !1, t.stopPropagation && (t.stopPropagation(), t.preventDefault()), !1 } function SetDefaultNumber(e, t, a) { if (e && t) { var l = e.value; if (0 < l.length) { var n = e.value.indexOf(a); SetCursorPosition(e, n) } else e.value = "" } } function SetCursorPosition(e, t) { var a = IsBrowserIE(); if (a) { var l = e.createTextRange(); l.move("character", t), l.select() } else e.selectionStart = t, e.selectionEnd = t, setTimeout(function () { e.selectionStart = t, e.selectionEnd = t }, 0) } function GetCursorPosition(e) { var t = IsBrowserIE(); if (t) { if (!!window.MSInputMethodContext) return e.selectionEnd; var a = e.value.replace(/\n/g, "").length + 1; if (e.createTextRange) for (var l = document.selection.createRange().duplicate(); l.parentElement() == e && 1 == l.move("character", 1);)--a; return --a } return e.selectionEnd } function addLoadListener(e) { window.attachEvent ? window.attachEvent("onload", e) : window.addEventListener && window.addEventListener("load", e, !0) } function OpenLoadIcon(e) { e = GetID(e), ShowModalDialog("iSiigo - Browser", gbAppPathStatic + "/Framework/General/LoadIcon.aspx?formname=" + document.forms[0].name + "&ControlUniqueID=" + e, 250, 200, !1) } function SetIcon(formName, ControlUniqueID, newIconName) { var id = GetID(ControlUniqueID); eval("var theform = document." + formName + ";"), theform.elements[id].value = newIconName } function IsInArray(e, t) { for (i = 0; i < e.length; i++)if (e[i] == t) return !0; return !1 } function formIsDirty(e) { for (var t = ExceptionArray.split(","), a = 0; a < e.elements.length; a++) { var l, n = e.elements[a], o = n.type; if (!IsInArray(t, n.name)) if ("checkbox" == o || "radio" == o) { if (l = n.defaultChecked != n.checked, l) return !0; } else if ("password" == o || "text" == o || "textarea" == o) { var d = jQuery(n).attr("defaultValue"); if (n.value != n.defaultValue && n.value != d) { if ("textarea" == o && "" == n.value && null != typeof n.innerText && n.innerText == n.defaultValue) continue; if (n.WaterMark) { if (n.WaterMark != n.value) return !0; } else if (n.getAttribute("WaterMark")) { if (n.getAttribute("WaterMark") != n.value) return !0; } else if (!0 === jQuery(n).is(":visible")) return !0 } } else if ("select-one" == o || "select-multiple" == o) { if ("false" !== n.getAttribute("validateInFormIsDirty")) for (var r = 0; r < n.options.length; r++)if (0 != r && n.options[r].selected != n.options[r].defaultSelected) return !0; } else if ("file" == o && n.value != n.defaultValue) return !0 } return !1 } function ChangesInForm(t) { if (t = t || window.event, !isSubmit && formIsDirty(document.forms.frmMain)) return t && (t.returnValue = "You have unsaved changes."), "You have unsaved changes." } function OpenDocumentFolderBrowser(e, t, a) { var l = window.showModalDialog(e, window, "dialogWidth=800px,dialogHeight=600px,dialogLeft=50px,dialogTop=100px"); if (l != null) { var n = []; n = l.split("|"), 2 <= n.length && (jQuery("input[id$='" + t + "']").val(n[0]), jQuery("input[id$='" + a + "']").val(n[1])) } } function SetBrowserReturnValues(formName, objControlCode, newCode, objControlDescription, newDescription, postBack) { objControlCode = GetID(objControlCode), objControlDescription = GetID(objControlDescription), eval("var theform = document." + formName + ";"), popUp.close(), theform.elements[objControlCode].value = newCode, theform.elements[objControlDescription].value = newDescription, postBack && __doPostBack(objControlCode, "") } function InitializeDefaultValue() { var e = document.forms.frmMain; if (e) for (var t = 0; t < e.elements.length; t++) { var a = e.elements[t], l = a.type; if ("select-one" == l || "select-multiple" == l) for (var n = 0; n < a.options.length; n++)a.options[n].defaultSelected = a.options[n].selected } } function getIconByExtension(e) { var t = getFileExtension(e); return "doc" == t || "docx" == t || "exe" == t || "fla" == t || "flv" == t || "gif" == t || "htm" == t || "html" == t || "jpeg" == t || "jpg" == t || "mp3" == t || "pdf" == t || "png" == t || "ppt" == t || "pptx" == t || "rar" == t || "swf" == t || "txt" == t || "wma" == t || "xls" == t || "xlsx" == t || "zip" == t ? "images/Extensions/" + t + ".png" : "images/Extensions/default.png" } function getFileExtension(e) { return "undefined" != typeof e && e.substring(e.lastIndexOf(".") + 1, e.length).toLowerCase() } function CalcDate(e, t, a, l) { var n = new Date(a, t, e); if (0 < l) { var o = parseInt(1e3 * (60 * (60 * (24 * l)))), d = n.getTime(); n.setTime(d + o) } var r = 0, s = 0; return r = 10 > n.getDate() ? "0" + n.getDate() : n.getDate(), s = 10 > n.getMonth() + 1 ? "0" + (n.getMonth() + 1) : n.getMonth() + 1, r + "/" + s + "/" + n.getFullYear() } function ChangeDateTime(e, t) { var a = new Date, l = document.getElementById(e), n = document.getElementById(t), o = 0, d = 0, r = 0; if (l && n) { o = a.getDate(), d = a.getMonth(), r = a.getFullYear(); var s = l.selectedIndex; switch (s) { case 0: { n.AjaxControlToolkitTextBoxWrapper.set_Value(""); break } case 1: { n.AjaxControlToolkitTextBoxWrapper.set_Value(CalcDate(o, d, r, 0)); break } case 2: { n.AjaxControlToolkitTextBoxWrapper.set_Value(CalcDate(o, d, r, 1)); break } case 3: { n.AjaxControlToolkitTextBoxWrapper.set_Value(CalcDate(o, d, r, 7)); break } case 4: { n.AjaxControlToolkitTextBoxWrapper.set_Value(CalcDate(o, d, r, 29)); break } case 5: { n.AjaxControlToolkitTextBoxWrapper.set_Value(CalcDate(o, d, r, 59)); break } case 6: { n.AjaxControlToolkitTextBoxWrapper.set_Value(CalcDate(o, d, r, 89)); break } } } } function InitILike() { jQuery("a[id$='__ancILike']").unbind("click"), jQuery("a[id$='__ancILike']").click(function () { var e = jQuery(this), t = e.parent(), a = jQuery("span[id$='" + t.attr("LikeCounterID") + "']"), l = t.attr("ReferenceType"), n = t.attr("ReferenceCode"), o = t.attr("UsersCode"), d = null, r = null; 0 < a.length && (d = a.find("a[id$='__ancCountILike']"), r = a.find("table[id$='__tblCount']"), a.parents(":eq(1)").show()); jQuery.ajax({ type: "POST", url: "Components/Controls/ILike.ashx", data: { ReferenceType: l, ReferenceCode: n, UsersCode: o }, cache: !1, success: function (e) { t.parents(":eq(1)").is("td[id$='_tdILike']") && (t.parents(":eq(1)").hide(), 0 == t.parents(":eq(5)").find("div[id$='___divGetComments']").length && t.parents(":eq(5)").removeAttr("style")), t.parents(":eq(1)").find("span[id$='lblSeparatorILikeCounter']").hide(), t.parents(":eq(1)").find("td[id$='tdCommentILike']").css("width", "0px"), t.parents(":eq(1)").find("td[id$='tdCommentLikeAdjustCell']").css("width", "21%"), t.parents(":eq(1)").find("td[id$='tdCommentILikeCounterSeparator']").css("width", "0px"), t.remove(), null != r && 2 != l && r.css("background-color", "#f0f0f0"), null != d && d.html(e) } }) }), jQuery("a[id$='__ancCountILike']").unbind("click"), jQuery("a[id$='__ancCountILike']").click(function () { var e = jQuery(this), t = e.parents(":eq(4)"), a = t.attr("ReferenceType"), l = t.attr("ReferenceCode"), n = t.attr("UsersCount"), o = 280, d = getIsMobile(), r = 350; d ? (o = document.documentElement.clientHeight / 2.5, r = document.documentElement.clientWidth / 1.5) : 5 > n && (o = 80 + 40 * n); jQuery.ajax({ type: "POST", url: "Components/Controls/ControlAjaxLoader.ashx?Control=2", data: { ReferenceType: a, ReferenceCode: l }, cache: !1, success: function (t) { CreateDialog(e.text(), t), ShowDialog(r, o) } }) }) } var lockComment = !1; function InitComment() { jQuery("textarea[id$='__txtComment']").watermark(strComment), jQuery("textarea[id$='__txtComment']").attr("WaterMark", strComment), jQuery("textarea[id$='__txtComment']").css("width", "340px"), jQuery("textarea[id$='__txtComment']").autoResize({ onResize: function () { $(this).css({ opacity: .8 }) }, animateCallback: function () { $(this).css({ opacity: 1 }) }, animateDuration: 300, extraSpace: 0 }), jQuery("textarea[id$='__txtComment']").css("width", "97%"), jQuery("a[id$='ancRemoveComment']").hide(), jQuery("table[id$='tblContentComment']").hover(function () { jQuery(this).find("a[id$='ancRemoveComment']").show("fast") }, function () { jQuery(this).find("a[id$='ancRemoveComment']").hide("fast") }), jQuery("textarea[id$='__txtComment']").unbind("keydown"), jQuery("textarea[id$='__txtComment']").unbind("keydown"), jQuery("textarea[id$='__txtComment']").keydown(function (t) { var e = jQuery(this); if ("" != e.val() || IsBrowserIE() && 9 == t.which || $.watermark._hide(e, !0), t.ctrlKey && 13 == t.keyCode) "" == e.val() ? CancelEvent(t) : e.val(e.val() + "\n"); else if (13 == t.which && !1 == lockComment) if (e.val(jQuery.trim(e.val())), EncodeSingular(e.get(0)), "" != e.val()) { lockComment = !0; var a = e.parents(":eq(4)"), l = a.attr("ReferenceType"), n = a.attr("ReferenceCode"), o = a.find("div[id$='__divNewComment']"), d = replaceMultiBR(e.val()), r = getIsMobile(); if ("" != d && "\n" != d) { jQuery.ajax({ type: "POST", url: "Components/Controls/ControlAjaxLoader.ashx?Control=3&IsMobile=" + r, data: { Comment: d, action: 0, ReferenceCode: n, ReferenceType: l }, cache: !1, success: function (t) { o.append(t), e.val(""), e.css("height", "18px"), InitILike(), InitComment(), e.blur(), e.focus(), lockComment = !1 } }) } else CancelEvent(t), lockComment = !1 } else { return !1 } }), jQuery("a[id$='__ancGetComments']").unbind("click"), jQuery("a[id$='__ancGetComments']").click(function () { var e = jQuery(this), t = jQuery("div[id$=\"" + e.attr("divCommentParent") + "\"]"), a = e.parents(":eq(4)"), l = t.attr("ReferenceType"), n = t.attr("ReferenceCode"), o = t.find("input[name$='hidCommentDate']"), d = t.find("div[id$='__divComment']"), r = { lastDate: o.first().val(), ReferenceCode: n, ReferenceType: l }, s = getIsMobile(); jQuery.ajax({ type: "POST", url: "Components/Controls/ControlAjaxLoader.ashx?Control=4&IsMobile=" + s, data: r, cache: !1, success: function (e) { d.prepend(e), t.find("table[id$='__tblCommentText']").show(), a.parents(":eq(1)").hide(), 0 == a.parents(":eq(6)").find("a[id$='___ancILike']").length && a.parents(":eq(6)").removeAttr("style"), a.remove(), InitILike(), InitComment() } }) }), jQuery("img.RemoveComment").unbind("click"), jQuery("img.RemoveComment").click(function () { if (confirm(strConfirmDeleteComment)) { var e = jQuery(this), t = { action: 1, removeCommentID: e.attr("tag") }, a = getIsMobile(); jQuery.ajax({ type: "POST", url: "Components/Controls/ControlAjaxLoader.ashx?Control=3&IsMobile=" + a, data: t, cache: !1, success: function () { e.parents(":eq(4)").fadeOut("slow"), setTimeout(function () { e.parents(":eq(4)").html("") }, 200) } }) } }) } function replaceMultiBR(e) { for (; -1 != e.indexOf("\n\n");)e = e.replace("\n\n", "\n"); return e } function getPosition(e, t) { for (var a, l = 0, n = e; n;)a = n["offset" + t], l += a, n = n.offsetParent; for (n = e; n != document.body;)a = n["scroll" + t], a && "scroll" == n.style.overflow && (l -= a), n = n.parentNode; return l } function showBubbleDescription(e, t) { var a = { position: "right", align: "top", tail: { align: "top" }, themeName: "azure", themePath: "images/jQuery/jquerybubblepopup-theme" }; 70 < t.length && (a.width = "360px"); var l = jQuery(e); !1 == l.HasBubblePopup() ? (l.CreateBubblePopup(a), l.SetBubblePopupInnerHtml("<DIV>" + t + "</DIV>"), l.ShowBubblePopup()) : null != l.IsBubblePopupOpen() && (!0 == l.IsBubblePopupOpen() ? !$(l).is(":hidden") && l.ShowBubblePopup() : l.ShowBubblePopup()) } function SetAjaxDateValue(e, t, a, l, n, o) { var d = $find(t), r = document.getElementById(e), s = document.getElementById(a); if (null != d) { var c = null; if (!0 == o && (c = r.getAttribute("onchange"), r.setAttribute("onchange", "")), "" == l) { var u = new Date; l = u.getMonth() + 1 + "/" + u.getDate() + "/" + u.getFullYear(), jQuery("#" + e).val(""), d.set_selectedDate(null); try { r.fireEvent("onblur") } catch (t) { var p = document.createEvent("HTMLEvents"); p.initEvent("blur", !0, !1), null != r && r.dispatchEvent(p) } if (null != r) { var g = r.Validators; if (null != g) for (var h = 0; h < g.length; h++)g[h].style.visibility = "hidden", g[h].style.display = "none" } } else d.set_selectedDate(n), r.value = l; jQuery("#" + e).is(":visible") && (r.focus(), s.focus()), !0 == o && r.setAttribute("onchange", c) } } function SetAjaxDateSimpleValue(e, t, a, l) { 0 < e.length && jQuery("#" + e).is(":disabled") || SetAjaxDateValue(e, t, a, l, l, !1) } function SetAjaxDateSimpleValueWithDisable(e, t, a, l) { SetAjaxDateValue(e, t, a, l, l, !0) } function CreateDialog(e, t, a, l = !0) { var n = ""; a && (n = "<div id=\"divProgress\" style=\"position: absolute;z-index:10; width:100% border: 1px; z-index:10; font-size :20pt; color : #928C8C; width:100%;\"><div style=\"text-align:center;\"><img src=\"images/loading.gif\" alt=\"Loading\"/></div></div>"); var o = ""; l || (o = "display: none;"); var d = "<a id=\"ancCloseDialog\" style=\"overflow: visible;" + o + " cursor:pointer; right:10px; top:10px; z-index:50001\"><img style=\"overflow: visible;\" title=\"\" class=\"closeDialog\" border=\"0\" alt=\"\" src=\"Images/cerrar-grande.png\"></a>"; jQuery("#divDialog").html("<table border=\"0\" cellSpacing=\"0\" cellPadding=\"0\" style=\"width:100%;\" id=\"popupTitle\"><tbody><tr><td><table border=\"0\" cellSpacing=\"0\" cellPadding=\"10\" style=\"width:100%;\" class=\"popupTitle\"><tbody><tr><td class=\"text-subtitle\"><span id=\"ui-dialog-Title\">" + unescape(e) + "</span></td><td align=\"right\">" + d + "</td></tr></tbody></table></td></tr></tbody></table>" + n + "<table id=\"popupContent\" border=\"0\" class=\"modalContent\"><tr><td style=\"height:100%;vertical-align:top;\" class=\"text-ContentDialog\">" + t + "</td></tr></table>") } function ShowDialog(e, t, a, l, n, o, d = !1) { jQuery("#divDialog").dialog({ modal: !0, width: e, height: t, title: "", resizable: !1, close: a, closeOnEscape: !1, open: function () { showPopupAngular("", {}, "popupDialog") }, close: function (e, t) { closePopupAngular(), "undefined" == typeof a || "function" != typeof a || a(e, t) } }), setTimeout(function () { jQuery("#ancCloseDialog").click(function () { d || 1 != jQuery("#iFrameControl").contents().find("#iFramePreview").length || (jQuery("#iFrameControl").contents().find("div[id$='divContentPreview']").hide(), jQuery("#iFrameControl").contents().find("body[id$='bodMain']").css("overflow", "hidden"), jQuery("#iFrameControl").contents().find("div[id$='divPreview']").html(""), ResizeDialogControl(0, 170), ResizeIFrame("iFrameControl", 100)), jQuery("#divDialog").dialog("close"), jQuery("#ancCloseDialog").remove(), jQuery("#divDialog").html("") }) }, 5), n && jQuery("#divDialog").dialog({ position: [300, 100] }), jQuery(".ui-dialog-titlebar").hide(), jQuery("div[aria-describedby=\"divDialog\"]").css("overflow", "visible"), jQuery(".ui-dialog-content").css("overflow", "visible"), jQuery(".ui-dialog-content").css("padding", "0px"), jQuery(".ui-dialog").css("padding", "0px"), jQuery("#popupTitle").addClass("popupTitle"), jQuery("div[aria-describedby=\"divDialog\"]").removeClass("popupShadow"), l != null && jQuery(".ui-widget-overlay").click(function () { jQuery("#divDialog").dialog("close"), jQuery("#ancCloseDialog").remove() }), d && jQuery(".ui-dialog").css("top", "0px") } function ShowDialogWithSpecificPositionY(e, t, a) { jQuery("#divDialog").dialog({ modal: !0, width: e, height: t, title: "", resizable: !1, closeOnEscape: !1, open: function () { showPopupAngular("", {}, "popupDialog") }, close: function (e, t) { closePopupAngular(), "undefined" == typeof functionclose || "function" != typeof functionclose || functionclose(e, t) }, position: ["center", a] }), setTimeout(function () { jQuery("#ancCloseDialog").click(function () { 1 == jQuery("#iFrameControl").contents().find("#iFramePreview").length && (jQuery("#iFrameControl").contents().find("div[id$='divContentPreview']").hide(), jQuery("#iFrameControl").contents().find("body[id$='bodMain']").css("overflow", "hidden"), jQuery("#iFrameControl").contents().find("div[id$='divPreview']").html(""), ResizeDialogControl(0, 170), ResizeIFrame("iFrameControl", 100)), jQuery("#divDialog").dialog("close"), jQuery("#ancCloseDialog").remove(), jQuery("#divDialog").html("") }) }, 5), jQuery(".ui-dialog-titlebar").hide(), jQuery("div[aria-describedby=\"divDialog\"]").css("overflow", "visible"), jQuery(".ui-dialog-content").css("overflow", "visible"), jQuery(".ui-dialog-content").css("padding", "0px"), jQuery(".ui-dialog").css("padding", "0px"), jQuery("#popupTitle").addClass("popupTitle") } function ShowDialogWithScrollY(e, t, a) { var l = jQuery("#divDialog"); l.css("overflow-y", "auto"), l.css("overflow-x", "hidden"), l.dialog({ modal: !0, maxHeight: 600, width: e, height: t, title: "", resizable: !1, close: a, closeOnEscape: !1, position: "center", open: function () { showPopupAngular("", {}, "popupDialog"), setTimeout(function () { var e = jQuery("#divDialog").dialog().offset(); jQuery("#ancCloseDialog").get(0).style.left = e.left + jQuery("#divDialog").width() - 35 + "px", jQuery("#ancCloseDialog").get(0).style.top = e.top + 8 + "px", jQuery("#ancCloseDialog").click(function () { jQuery("#divDialog").dialog("close"), jQuery("#ancCloseDialog").remove() }) }, 5) }, close: function () { closePopupAngular() } }), jQuery(".ui-dialog-titlebar").hide(), jQuery(".ui-dialog-content").css("padding", "0px"), jQuery(".ui-dialog").css("padding", "0px"), jQuery("#popupTitle").addClass("popupTitle"), jQuery("div[role=\"dialog\"]").removeClass("popupShadow") } (function (e) { for (var t, a = ["Width", "Height"]; t = a.pop();)(function (t, a) { e.fn[t] = t in new Image ? function () { return this[0][t] } : function () { var e, t, l = this[0]; return "img" === l.tagName.toLowerCase() && (e = new Image, e.src = l.src, t = e[a]), t } })("natural" + t, t.toLowerCase()) })(jQuery); function ShowDialogImage(e, t) { CreateDialog(e, "<img id=\"imageBox\" src=\"" + t + "\" />"), jQuery("#divDialog").find("#imageBox").load(function () { var e = jQuery(this), t = e.naturalWidth(), a = e.naturalHeight(), l = (window.innerWidth ? window.innerWidth : document.documentElement.clientWidth) - 200, n = (window.innerHeight ? window.innerHeight : document.documentElement.clientHeight) - 200; t > l && (a = a * l / t, t = l, e.css("width", t + "px"), e.css("height", a + "px")), a > n && (t = t * n / a, a = n, e.css("width", t + "px"), e.css("height", a + "px")), ShowDialog(t + 40, a + 100) }) } function ShowDialogControl(e, t, a, l, n = !0) { "undefined" == typeof l && (l = "1"), t = t + "&PopUpWindow=1&HiddenHeader=1&HiddenTitle=" + l, window.parent.frames[0] && 0 < window.parent.frames[0].frameElement.src.indexOf("ModalPopupID") && 0 < window.location.href.indexOf("ModalPopupID") ? (CreateDialog(e, "<iframe id=\"iFrameControl\" style=\"width:575px;height:280px;\" frameborder=\"0\" />", !0, n), ShowDialog(600, 300, a, void 0, void 0, t)) : (CreateDialog(e, "<iframe id=\"iFrameControl\" style=\"width:100%;height:5300px;\" frameborder=\"0\" />", !1, n), ShowDialog(1e3, 535, a, void 0, void 0, t)), jQuery("#iFrameControl").attr("src", t) } function ShowDialogControlCustom(e, t, a, l, n, o) { t += "&PopUpWindow=1&HiddenHeader=1&HiddenTitle=1", CreateDialog(e, "<iframe id=\"iFrameControl\" style=\"width:100%;height:92%;overflow:none\" frameborder=\"0\" />", !0), ShowDialog(a, l, n, o, void 0, t), jQuery("#iFrameControl").attr("src", t) } function ShowDialogControlSize(e, t, a, l, n) { t += "&PopUpWindow=1&HiddenHeader=1", CreateDialog(e, "<iframe id=\"iFrameControl\" style=\"width:100%;height:92%;overflow:none\" frameborder=\"0\" />", !0), ShowDialog(a, l, void 0, n, void 0, t), jQuery("#iFrameControl").attr("src", t) } function ShowDialogControlSpecificSize(e, t, a, l, n) { t += "&PopUpWindow=1&HiddenHeader=1", CreateDialog(e, "<iframe id=\"iFrameControl\" style=\"width:" + (a - 20) + "px;height:" + l + "px;overflow:none\" frameborder=\"0\" />", !0), ShowDialog(a, l, void 0, n, void 0, t), jQuery("#iFrameControl").attr("src", t) } function setModalPopupIframeURL(e, t, a, l) { if (e) { var n = jQuery("#" + e), o = jQuery("#" + n.attr("CloseModalPopup")), d = $find(t); n && "true" != n.attr("Ready") && (n.get(0).src = a, n.attr("Ready", "true")), o.get(0).style.left = jQuery(d._popupElement).width() - 12 + "px", setTimeout(function () { "none" == jQuery(d._popupElement).css("display") && d.show(), l && n.load(function () { n.width(n.contents().width() + 20), jQuery(d._popupElement).width(n.contents().width() + 40), o.get(0).style.left = jQuery(d._popupElement).width() - 12 + "px" }), d._layout() }, 1e3) } } function GetSelectTitle(e) { for (var t = e.get(0), a = "", l = 0; l < t.options.length; l++)t.options[l].selected && (a = t.options[l].text); return a } function CheckRegularExpressionValidator(e) { if ("undefined" != typeof Page_Validators) for (i = 0; i < Page_Validators.length; i++) { var t = Page_Validators[i]; if (t && t.validationexpression && t.controltovalidate && "" != t.validationexpression) { var a = document.getElementById(t.controltovalidate); if (a && "" != a.value && a.value != jQuery(a).attr("WaterMark") && !a.value.match(t.validationexpression)) { var l = document.getElementById(e); return l && (l.style.color = "red", l.displaymode = "SingleParagraph", l.innerHTML = l.headertext, l.innerText = l.headertext, l.outerText = l.headertext, l.className = "text-error"), !1 } } } return !0 } function ChangeMenuDisplay(e, t, a, l, n, o, d, r, s) { var c = document.getElementById(e), u = document.getElementById(t), p = document.getElementById(a), g = document.getElementById(l), h = document.getElementById(n), m = "menuDropDown", f = "menuDropDownImage", v = "Left"; "" != o && (m = o), "" != d && (f = d), "" != r && (v = r), c && p && g && (s ? (p.style.display = "inline", p.setAttribute("isvisible", "true"), p.style.display = "inline", p.style.position = "absolute", p.style.left = parseInt(getPosition(c, "Left")) + c.offsetWidth - p.offsetWidth + "px", "Left" != r && (p.style.left = ""), c.className = "menuDropDownSelected", u.className = "menuDropDownImageSelected", g.style.width = "" + p.offsetWidth - c.offsetWidth + "px", g.width = "" + p.offsetWidth - c.offsetWidth + "px", h.width = c.offsetWidth, h.style.width = c.offsetWidth, "Left" != r && (u.className = "menuDropDownImageSelectedSubMenu", g.style.width = "" + c.offsetWidth + "px", g.width = "" + c.offsetWidth + "px", h.width = p.offsetWidth - c.offsetWidth, h.style.width = p.offsetWidth - c.offsetWidth)) : (p.style.display = "none", p.setAttribute("isvisible", "false"), c.className = m, u.className = f)) } function CloseDialog() { jQuery("#divDialog").dialog("close"), jQuery("#ancCloseDialog").remove() } function ShowSuggestionsDialog(e) { window.showModalDialog("Default.aspx?TabID=384&popupwindow=1&PathAndQuery=" + e + "&postBack=false", window, "dialogWidth=670px; dialogHeight=590px; dialogLeft=50px; dialogTop=50px") } function ModalpopUp3(e) { window.showModalDialog("Components/Document/BrowserDocumentCategory.aspx?CtrlName=Attachment&DocumentID=" + e, "MyAttachmentPopUp", "dialogWidth=650px;dialogHeight=300px;scrollbars=yes;hotkeys=yes;titlebar=yes; location=yes; menubar=no; status=yes") } function initValidators() { jQuery(".text-error").each(function () { jQuery(this).attr("CustomDisplay") && (jQuery(this).get(0).enabled == null || !0 == jQuery(this).get(0).enabled) && (isRequestFromPortal() ? jQuery(this).html("<img src='../../images/field_mandatory.png' height='20px' style='display:inline; vertical-align:top' />") : jQuery(this).html("<img src='images/field_mandatory.png' height='20px' style='display:inline; vertical-align:top' />"), jQuery(this).css("visibility", "visible"), jQuery(this).css("display", "inline")) }), "undefined" != typeof Page_ClientValidate && (ValidatorUpdateDisplay = ValidatorUpdateDisplayPersonalized, ValidationSummaryOnSubmit = ValidationSummaryOnSubmitPersonalized) } function ValidatorUpdateDisplayPersonalized(e) { if (e.enabled == null || !0 == e.enabled) { if (e.getAttribute("CustomWarning")) return e.innerHTML = e.isvalid ? "<img src='images/exclaim.gif' height='20px' style='display:inline; vertical-align:top' title='" + e.getAttribute("CustomWarningMsg") + "' />" : "<img src='images/exclaim.gif' style='display:inline' title='" + e.getAttribute("CustomWarningMsg") + "' />", e.style.display = e.isvalid ? "none" : "inline", void (e.style.visibility = e.isvalid ? "hidden" : "visible"); if (e.getAttribute("CustomDisplay")) e.innerHTML = e.isvalid ? isRequestFromPortal() ? "<img src='../../images/field_mandatory.png' height='20px' style='display:inline; vertical-align:top' />" : "<img src='images/field_mandatory.png' height='20px' style='display:inline; vertical-align:top' />" : isRequestFromPortal() ? "<img src='../../images/field_error.png' style='display:inline' />" : "<img src='images/field_error.png' style='display:inline' />", e.style.visibility = "visible", e.style.display = "inline"; else { if (!e.isvalid && !e.getAttribute("ExcludeValidatorCustomDisplay")) { isRequestFromPortal() && (e.innerHTML = "<img src='../../images/field_error.png' style='display:inline' />"), e.innerHTML = 0 < window.location.href.indexOf("/InsertYouTubeVideo.aspx?") ? "<img src='../../../images/field_error.png' style='display:inline' />" : "<img src='images/field_error.png' style='display:inline' />"; var t = document.getElementById(e.controltovalidate).Validators; if (null != t) for (var a = 0; a < t.length; a++)t[a].style.visibility = "hidden", t[a].style.display = "none" } e.style.display = e.isvalid ? "none" : "inline", e.style.visibility = e.isvalid ? "hidden" : "visible" } } else e.style.display = "none", e.style.visibility = "hidden" } function isRequestFromPortal() { return !!(0 < window.location.href.indexOf("/PortalSelectReferType.aspx?") || 0 < window.location.href.indexOf("/PortalSelectCompanyType.aspx?") || 0 < window.location.href.indexOf("/PortalWelcome.aspx?") || 0 < window.location.href.indexOf("/PortalSettingPhone.aspx?") || 0 < window.location.href.indexOf("/Agreement.aspx?")) } function ValidationSummaryOnSubmitPersonalized(e) { if ("undefined" != typeof Page_ValidationSummaries) { var t, a, l, n, o, d, r, c; for (a = 0; a < Page_ValidationSummaries.length; a++)if (t = Page_ValidationSummaries[a], t.style.display = "none", !Page_IsValid && IsValidationGroupMatch(t, e)) { var u; if ("False" != t.showsummary) { switch (t.style.display = "", "string" != typeof t.displaymode && (t.displaymode = "BulletList"), t.displaymode) { case "List": n = "<br>", o = "", d = "", r = "<br>", c = ""; break; case "BulletList": default: n = "", o = "<ul>", d = "<li>", r = "</li>", c = "</ul>"; break; case "SingleParagraph": n = " ", o = "", d = "", r = " ", c = "<br>"; }for (l = "", "string" == typeof t.headertext && (l += t.headertext + n), l += o, u = 0; u < Page_Validators.length; u++)Page_Validators[u].isvalid || "string" != typeof Page_Validators[u].errormessage || (l += d + Page_Validators[u].errormessage + r); l += c, t.innerHTML = l, window.scrollTo(0, 0) } if ("True" == t.showmessagebox) { l = "", "string" == typeof t.headertext && (l += t.headertext + "\r\n"); var p = Page_Validators.length - 1; for (u = 0; u <= p; u++)if (!Page_Validators[u].isvalid && "string" == typeof Page_Validators[u].errormessage) switch (t.displaymode) { case "List": l += Page_Validators[u].errormessage, u < p && (l += "\r\n"); break; case "BulletList": default: l += "- " + Page_Validators[u].errormessage, u < p && (l += "\r\n"); break; case "SingleParagraph": l += Page_Validators[u].errormessage + " "; }alert(l) } if (t.getAttribute("ShowMessageDialog")) { var g = 150, h = 305, m = getIsMobile(); m && (g = document.documentElement.clientHeight / 4, h = document.documentElement.clientWidth / 1.4), CreateDialog(strTitleValidatorSummary, t.headertext.replace("({0})", "(<img src='images/field_error_summary.png' style='display:inline; vertical-align:top' />)")), ShowDialog(h, g, "", !0) } } } } function copyLabelContent(e, t) { jQuery("span[id$='" + e + "']").get(0).innerHTML = jQuery("span[id$='" + t + "']").get(0).innerHTML } function ShowMessageBox(Title, Content, Icon, Height, scriptAccept, scriptClose, btnAcceptValue, btnCancelValue, btnCancelScript, TimeAutoClose, btnAcceptClass, btnCancelClass, showCloseButton, isModal) { var HeightContent = Height - 50, strClose = "jQuery.fancybox.close();"; showCloseButton == null && (showCloseButton = !0), isModal == null && (isModal = !1), scriptAccept = "" == scriptAccept ? strClose : scriptAccept + ";" + strClose, btnCancelScript = "" == btnCancelScript ? strClose : btnCancelScript + ";" + strClose, (btnAcceptClass == null || "" == btnAcceptClass) && (btnAcceptClass = "buttonClass bgDarkColor"), (btnCancelClass == null || "" == btnCancelClass) && (btnCancelClass = "buttonClass bgDarkColor"); var HtmlButtons = "<tr><td style=\"height:20px;padding-right: 5px;\" align=\"right\">"; btnAcceptValue && "" != btnAcceptValue && (HtmlButtons += "<input type=\"button\" class=\"" + btnAcceptClass + "\" onclick=\"" + scriptAccept + "\" value=\"" + btnAcceptValue + "\" ></input>&nbsp;"); var divContent = "<div class=\"modalContent\"><table width=\"100%\" cellpading=\"0\" cellspacing=\"0\"><tr><td style=\"height:12px\"></td></tr><tr><td style=\"height:" + HeightContent + "px; vertical-align: top; padding-left: 15px;padding-right: 15px; padding-top: 15px;\"> " + Content + "</td></tr>", divTitle = ""; "" != Title && (divTitle = "<div style=\"height:20px;padding-bottom:20px;\"><table width=\"100%\" class=\"popupTitle\"><tr><td class=\"text-subtitle\"><span id=\"ui-dialog-Title\" style=\"padding-left: 5px;\">" + Title + "</span></td></tr></table></div>"), Icon && "" != Icon && (divContent = "<div class=\"modalContent\"><table width=\"100%\" cellpading=\"0\" cellspacing=\"0\"><tr><td style=\"height:15px\"></td></tr><tr><td style=\"height:" + HeightContent + "px;\"><table><tr><td style=\"padding-left: 5px;\"><img src=\"" + Icon + "\" height=\"32\" width=\"32\"/></td><td style=\"vertical-align: top; padding-left: 5px; padding-right: 5px;\">" + Content + "</td><tr></table></td></tr>"), btnCancelValue && "" != btnCancelValue && (HtmlButtons += "<input type=\"button\" class=\"" + btnCancelClass + "\" onclick=\"" + btnCancelScript + "\" value=\"" + btnCancelValue + "\" ></input>"), HtmlButtons += "</td></tr></table></div>", divContent = divTitle + divContent + HtmlButtons, setTimeout(function () { jQuery.fancybox(divContent, { autoDimensions: !1, padding: 0, width: 300, height: "auto", transitionIn: "none", transitionOut: "none", closeBtn: showCloseButton, modal: isModal, beforeLoad: function () { showPopupAngular("", {}, "popupDialog") }, beforeClose: function () { return closePopupAngular(), eval(scriptClose) }, afterLoad: function () { 0 < TimeAutoClose && setTimeout(function () { jQuery.fancybox.close() }, TimeAutoClose) } }) }, 0) } function ResizeDialogControl(e, t) { e && jQuery("#divDialog").css("width", e), t && jQuery("#divDialog").css("height", t) } function ltrim(e) { if (e) { e.value = e.value.replace(/^[\s]+/g, ""), UpdateValidator(e) } } function rtrim(e) { if (e) { e.value = e.value.replace(/[\s]+$/g, ""), UpdateValidator(e) } } function setDocumentBrowser(e, t, a, l) { var n = jQuery("[id='" + e + "']"), o = n.attr("selectedValueId"), d = jQuery("[id='" + o + "']"), r = n.attr("selectedNameId"), s = jQuery("[id='" + r + "']"), c = n.attr("selectedCodeId"), u = jQuery("[id='" + c + "']"), p = n.attr("hidCodId"), g = jQuery("[id='" + p + "']"), h = n.attr("anclookupId"), m = jQuery("[id='" + h + "']"), f = n.attr("tblBoxId"), v = jQuery("[id='" + f + "']"), b = n.attr("mode"), y = !1, x = n.attr("tdhddDes"), C = jQuery("[id='" + x + "']"), w = { ID: t, Name: a, Code: l }; d.val(t), s.val(a), u.val(l), AutoCompleteSelect(e, w), g.val(w.Code), C.html(w.Name), y = !0, "true" === n.attr("isReadyAutocomplete") && n.autocomplete("close"), VerifyPostBack(e), 0 == b && !0 == y && HideAutoCompleteControls(n, m, v) } function adjustLeftMenuSize(e) { var t = jQuery("tr[id$='trAdjustRow']"); t.css("height") && t.css("height", parseInt(t.css("height").replace("px", "")) + e) } function updateNotificationsMenu(e) { 0 < e ? jQuery("div.ImageNotificationInactive").get(0) == null ? jQuery("span.ImageNotificationText").get(0).innerHTML = e : (jQuery("div.ImageNotificationInactive").html("<span class=\"ImageNotificationText\">" + e + "</span>"), jQuery("div.ImageNotificationInactive").attr("class", "ImageNotificationActive icon-alerta foreDarkColor")) : jQuery("div.ImageNotificationActive").get(0) != null && (jQuery("div.ImageNotificationActive").html(""), jQuery("div.ImageNotificationActive").attr("class", "ImageNotificationInactive icon-alerta foreDarkColor")) } function updateSeparator() { var e = jQuery("table[id$='tblReportList']"), t = jQuery("table[id$='tblLeftMenuContent']"), a = t.find("tr[id$='trAdjustRow']"); if (e.get(0) != null && t.get(0) != null && a) { var l = parseInt(a.css("height").replace("px", "")) + e.get(0).clientHeight - t.get(0).clientHeight; 0 > l ? a.css("height", 1) : a.css("height", l) } } function setModalSizeAuto() { jQuery("div.dvwraphelp").css("width", "auto"), jQuery("div.dvwrapheader").css("width", "auto"), jQuery("div.dvwrapmenu").css("width", "auto"), jQuery(".tdLateralPadding").css("width", "0"), jQuery("div[id$='Updatepanel1']").css("height", "0"), jQuery(".bottomPaddingDiv").css("height", "0") } function ResizeIFrame(e, t) { jQuery("iframe[id$='" + e + "']").css("height", t + "px"), jQuery("table[IstblContentDialog]").css("height", t - 20 + "px") } function ApplyDateValue(e, t) { if (e) { var a = jQuery("input[id$='" + e + "']"); if (a && 8 == a.val().length && !isNaN(a.val())) { var l, n = !0, o = t.split("/"); if (!0 == o[0].startsWith("y") ? (l = a.val().substring(0, 4) + "/" + a.val().substring(4, 6) + "/" + a.val().substring(6, 8), o[1].startsWith("M") ? (1 > a.val().substring(4, 6) || 12 < a.val().substring(4, 6) || 1 > a.val().substring(6, 8) || 31 < a.val().substring(6, 8)) && (n = !1) : (1 > a.val().substring(6, 8) || 12 < a.val().substring(6, 8) || 1 > a.val().substring(4, 6) || 31 < a.val().substring(4, 6)) && (n = !1)) : !0 == o[1].startsWith("y") ? (l = a.val().substring(0, 2) + "/" + a.val().substring(2, 6) + "/" + a.val().substring(6, 8), o[0].startsWith("M") ? (1 > a.val().substring(0, 2) || 12 < a.val().substring(0, 2) || 1 > a.val().substring(6, 8) || 31 < a.val().substring(6, 8)) && (n = !1) : (1 > a.val().substring(6, 8) || 12 < a.val().substring(6, 8) || 1 > a.val().substring(0, 2) || 31 < a.val().substring(0, 2)) && (n = !1)) : (l = a.val().substring(0, 2) + "/" + a.val().substring(2, 4) + "/" + a.val().substring(4, 8), o[0].startsWith("M") ? (1 > a.val().substring(0, 2) || 12 < a.val().substring(0, 2) || 1 > a.val().substring(2, 4) || 31 < a.val().substring(2, 4)) && (n = !1) : (1 > a.val().substring(2, 4) || 12 < a.val().substring(2, 4) || 1 > a.val().substring(0, 2) || 31 < a.val().substring(0, 2)) && (n = !1)), n) { a.val(l); a.get(0); SetStateValidator(a.get(0), !0) } } } } function InitShowImage() { jQuery("a[id$='ancPostAttachmentIcon'], a[id$='ancPostAttachmentIcon']").unbind("click"), jQuery("a[id$='ancPostAttachmentIcon'], a[id$='ancPostAttachmentLabel']").click(function () { var e = jQuery(this); e.attr("FSItemsGUID") && ShowDialogImage(e.attr("FileName"), "Framework/CuteEditor/DownFile.Aspx?IsThumbnailImage=false&fileid=" + e.attr("FSItemsGUID") + "&filename=" + e.attr("FileName")) }) } function ShowDialogImageSize(e, t, a, l, n, o) { var d = "", r = ""; n && (d = "width = \"" + n + "\""), o && (r = "width = \"" + o + "\""), CreateDialog(e, "<img id=\"imageBox\" src=\"" + t + "\" " + d + r + " />"), jQuery("#divDialog").find("#imageBox").load(function () { ShowDialog(a, l) }) } function GetURLParameter(e) { var t = new RegExp("[\\?&]" + e + "=([^&#]*)"), a = window.location.href, l = t.exec(a); return null == l ? "" : l[1] } function getParameterByName(e) { e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"); var t = new RegExp("[\\?&]" + e + "=([^&#]*)"), a = t.exec(location.search); return null == a ? "" : decodeURIComponent(a[1].replace(/\+/g, " ")) } function isBrowserSupportPlugin() { var t = null; try { new ActiveXObject("") } catch (t) { errorName = t.name } try { t = !!new ActiveXObject("htmlfile") } catch (a) { t = !1 } return t = "ReferenceError" == errorName || !1 != t, t } function ShowDialogURLSize(e, t, a, l, n) { t += "&PopUpWindow=1&HiddenHeader=1&HiddenTitle=1", CreateDialog(e, "<iframe id=\"iFrameControl\" style=\"width:" + (l - 20) + "px;height:" + (n - 20) + "px;\" frameborder=\"0\" />"), ShowDialog(l, n, a, void 0, void 0, t), jQuery("#iFrameControl").attr("src", t) } function ValidateMasterID(e, t, a) { -1 == e ? ShowMessageBox(strTitle, strMsg, "", 80, "", "", strBtn) : ShowDialogControl(t, a) } function getUrlVars() { for (var e, t = [], a = window.location.href.slice(window.location.href.indexOf("?") + 1).split("&"), l = 0; l < a.length; l++)e = a[l].split("="), t.push(e[0]), t[e[0]] = e[1]; return t } function listCombo_AddItem(e, t, a, l, n) { var o = jQuery("<li type=\"item\" class=\"text-label itemListCombo\" style=\"cursor:pointer\" value=" + t + ">                        <table style=\"width:100%;padding:0px\">                            <tr>                                <td noWrap=\"NOWRAP\" style=\"width:150px\">                                    " + t + "                                 </td>                                <td noWrap=\"NOWRAP\">                                    " + a + "                                 </td>                            <tr>                        </table>                     </li>").click(function () { var a = t, o = l; "." == decimalThousandSeparator ? (a = parseFloat(a.replace(/\./g, "").replace(decimalSeparator, ".")), o = parseFloat(o.replace(/\./g, "").replace(decimalSeparator, "."))) : (a = parseFloat(a.replace(/\,/g, "").replace(decimalSeparator, ".")), o = parseFloat(o.replace(/\,/g, "").replace(decimalSeparator, "."))), e.find("input[id$='txtValue']").val(a), n != null && (n.val(l).trigger("change"), n.attr("pvalue", SetDecimalValues(a, decimalSeparator))) }); e.find("ul[id$='ulComboItems']").append(o), e.focusin(function () { jQuery(e.selector).focus().select(), event.preventDefault(), event.stopPropagation() }), e.focusout(function () { listCombo_Hide(e) }), e.hover(function () { e.click(), listCombo_Show(e) }, function () { listCombo_Hide(e) }) } function listCombo_AddItemInv(e, t, a) { var l = a.id, n = SetDecimalValues(a.value, decimalSeparator, !0), o = a.description; 30 < o.length && (o = o.substring(0, 30) + "..."); var d = jQuery("<li type=\"item\" class=\"text-label itemListCombo\" style=\"cursor:pointer\" value=" + n + ">                        <table style=\"width:100%;padding:0px\">                            <tr>                                <td noWrap=\"NOWRAP\" style=\"width:150px\">                                    " + o + "                                 </td>                                <td noWrap=\"NOWRAP\">                                    " + n + "                                 </td>                            <tr>                        </table>                     </li>").click(function () { _lNextWhID != null && (_lNextWhID = l), e.find("input[id$='txtValue']").val(o), GeneralGrid.setCtrlValue("Warehouse_Id", t, l), SaveData(), listCombo_Hide(e), event.stopPropagation() }); e.find("ul[id$='ulComboItems']").append(d), e.focusin(function () { jQuery(e.selector).focus().select(), event.preventDefault(), event.stopPropagation() }), e.focusout(function () { listCombo_Hide(e) }), e.hover(function () { e.click(), listCombo_Show(e) }, function () { listCombo_Hide(e) }) } function listCombo_AddItems(e, t) { for (var a in t) listCombo_AddItem(e, t[a].value, t[a].name) } function listCombo_GetValue(e) { return e.find("input[id$='txtValue']")[0].value } function listCombo_ClearItems(e) { e.find("ul[id$='ulComboItems'] li:gt(0)").remove() } function listCombo_Hide(e) { e.find("ul[id$='ulComboItems']").hide() } function listCombo_Show(e) { e.find("ul[id$='ulComboItems']").show() } function isKeyInteger(t) { window.event && (t = window.event); var a = t.keyCode ? t.keyCode : t.which, l = String.fromCharCode(a).toLowerCase(); return /\d/.test(l) || 8 == a || 9 == a || 8 == a || 9 == a || 13 == a || 16 == a || 17 == a || 18 == a || 35 == a || 36 == a || 37 == a || 39 == a } function cleanPipsqueak(e) { 0 < e.value.length && 0 == e.value[0] && (1 == e.value.length ? e.value = "" : (e.value = e.value.substring(1, e.value.length), cleanPipsqueak(e))) } function convertDecimalToStringByCulture(e) { if (e != null && "" != e) { var t = ","; "," == strNumberDecimalSeparator && (t = "."); var a = e.toFixed(2).split("."); return a[0].split("").reverse().reduce(function (e, a, l) { return a + (l && !(l % 3) ? t : "") + e }, "") + strNumberDecimalSeparator + a[1] } return "" } function convertStringToDecimalByCulture(e) { return null != e && "" != e ? ("," == strNumberDecimalSeparator ? (e = e.split(".").join(""), e = e.split(",").join(".")) : e = e.split(",").join(""), parseFloat(e)) : "" } function loaddefaultmodule() { 0 < jQuery("table[moduleoption='true'][selectedmodule='true']").length && selectmodules(jQuery("table[moduleoption='true'][selectedmodule='true']").attr("modulekey")) } function selectmodules(e) { jQuery("table[moduleoption='true']").each(function () { var t = jQuery(this); e == t.attr("modulekey") ? (t.find("img[imgtype='menuback']").each(function () { var e = jQuery(this); e.attr("src", e.attr("selsrc")) }), t.find("td[imgtype='menubackcenter']").each(function () { var e = jQuery(this); e.attr("background", e.attr("selbackground")), e.attr("class", e.attr("selclass")) })) : (t.find("img[imgtype='menuback']").each(function () { var e = jQuery(this); e.attr("src", e.attr("unselsrc")) }), t.find("td[imgtype='menubackcenter']").each(function () { var e = jQuery(this); e.attr("background", e.attr("unselbackground")), e.attr("class", e.attr("unselclass")) })) }), jQuery("table[submoduleoption='true']").each(function () { var t = jQuery(this); t.attr("parentmodule") == e ? (t.css("visibility", "visible"), t.css("display", "block")) : (t.css("visibility", "hidden"), t.css("display", "none")) }) } var dtCh = "/", minYear = 1900, maxYear = 3e3; function isInteger(e) { var t; for (t = 0; t < e.length; t++) { var a = e.charAt(t); if ("0" > a || "9" < a) return !1 } return !0 } function stripCharsInBag(e, t) { var a, l = ""; for (a = 0; a < e.length; a++) { var n = e.charAt(a); -1 == t.indexOf(n) && (l += n) } return l } function daysInFebruary(e) { return 0 != e % 4 || 0 == e % 100 && 0 != e % 400 ? 28 : 29 } function DaysArray(e) { for (var t = 1; t <= e; t++)this[t] = 31, (4 == t || 6 == t || 9 == t || 11 == t) && (this[t] = 30), 2 == t && (this[t] = 29); return this } function isDate(e, t) { var a, l, n, o, r, s = DaysArray(12), c = e.indexOf(dtCh), u = e.indexOf(dtCh, c + 1); if (a = t.substring(0, c), r = e.substring(0, c), 0 > c || 0 > u) return !1; if ("dd" == a ? l = r : "yyyy" == a ? o = r : n = r, a = t.substring(c + 1, u), r = e.substring(c + 1, u), "dd" == a ? l = r : "yyyy" == a ? o = r : n = r, a = t.substring(u + 1), r = e.substring(u + 1), "dd" == a ? l = r : "yyyy" == a ? o = r : n = r, null == l || null == n || null == o) return !1; strYr = o, "0" == l.charAt(0) && 1 < l.length && (l = l.substring(1)), "0" == n.charAt(0) && 1 < n.length && (n = n.substring(1)); for (var p = 1; 3 >= p; p++)"0" == strYr.charAt(0) && 1 < strYr.length && (strYr = strYr.substring(1)); if (month = parseInt(n), day = parseInt(l), year = parseInt(strYr), -1 == c || -1 == u) return !1; if (1 > n.length || 1 > month || 12 < month) return !1; if (1 > l.length || 1 > day || 31 < day || 2 == month && day > daysInFebruary(year) || day > s[month]) return !1; if (4 != o.length || 0 == year || year < minYear || year > maxYear) return !1; if (-1 != e.indexOf(dtCh, u + 1) || !1 == isInteger(stripCharsInBag(e, dtCh))) return !1; var g = new Date(year, month - 1, day); return g && g.getMonth() + 1 == month } function ValidDateValue(e, t) { var a = !1; if (a = isDate(t.Value, e.getAttribute("formatcalendar")), a) { var l = moment(t.Value, e.getAttribute("formatcalendar").toUpperCase()); if ("" != e.getAttribute("startDate")) { var n = moment(e.getAttribute("startDate"), e.getAttribute("formatcalendar").toUpperCase()); l < n && (a = !1) } if (a && "" != e.getAttribute("endDate")) { var o = moment(e.getAttribute("endDate"), e.getAttribute("formatcalendar").toUpperCase()); l > o && (a = !1) } } t.IsValid = a } function round2Number(e) { return Math.round(100 * e) / 100 } function roundNumber(e, t) { var a = parseFloat(e), l = Math.round(a * Math.pow(10, t)) / Math.pow(10, t); return l } function showDialogCustom(e, t, a) { ShowDialogControl("{Title:" + e + "}", "Default.aspx?TabID=" + t + "&RecordCode=" + a) } function openWindowsCustom(e, t) { window.open(NavigateURLAspContainer("Default.aspx?TabID=" + e + "&RecordCode=" + t)) } function AutoCompleteControlHasData(e) { var t = jQuery("#" + e), a = t.attr("selectedValueId"), l = jQuery("[id='" + a + "']"), n = l.val(); return !(null == n || "" == n) } function GetAutoCompleteValue(e) { var t = jQuery("#" + e), a = t.attr("selectedValueId"), l = jQuery("[id='" + a + "']"), n = l.val(); return null != n && "" != n ? n : "" } function replaceUrlParam(e, t, a) { var l = new RegExp("(" + t + "=).*?(&|$)"), n = e; return n = 0 <= e.search(l) ? e.replace(l, "$1" + a + "$2") : n + (0 < n.indexOf("?") ? "&" : "?") + t + "=" + a, n } function getIsMobile() { var e = jQuery("input[id$='hdnIsMobile']"), t = !1; return null != e && (t = "True" == e.val()), t } jQuery.fn.removeEnterKey = function (e) { return this.each(function () { jQuery(this).keypress(function (t) { var a = t.keyCode ? t.keyCode : t.which; "13" == a && (t.preventDefault(), e != null && e.call(this, t)) }) }) }; function isNumber(e) { return !isNaN(e) && "number" == typeof e } function getFormattedDate(e) { var t, a = new Date, l = ""; try { t = e.split("/"); isNumber(+t[2]) && isNumber(+t[1]) && isNumber(+t[0]) ? "dd/MM/yyyy" === strDateFormat ? l = t[2] + t[1] + t[0] : "MM/dd/yyyy" === strDateFormat ? l = t[2] + t[0] + t[1] : void 0 : l = a.getFullYear() + "" + (a.getMonth() + 1) + "" + a.getDate() } catch (e) { l = a.getFullYear() + "" + (a.getMonth() + 1) + "" + a.getDate() } return l } function getDateFromFormattedDate(e) { var t = e.substring(0, 4), a = e.substring(4, 6), l = e.substring(6, 8), n = ""; return "dd/MM/yyyy" === strDateFormat ? n = l + "/" + a + "/" + t : "MM/dd/yyyy" === strDateFormat ? n = a + "/" + l + "/" + t : void 0, n } function checkRelationships(button, action, actionText1, actionText2, erpDocType, erpTypeAction) { erpDocType = "undefined" != typeof erpDocType && null != erpDocType ? erpDocType : 0, setBusyIndicator(!0); var erpDocID = getERPDocumentID(), strMessage = ""; if (0 < erpDocID) { var dataString = { Process: 7, ERPDocumentID: erpDocID, ERPDocType: erpDocType, ERPTypeAction: erpTypeAction }; 2 == erpTypeAction ? strMessage = "No es posible editar este comprobante ya que se encuentra relacionado a los siguientes documentos:  <br />" : 5 == erpTypeAction ? strMessage = "No puede aplicar una nota d\xE9bito a este comprobante porque est\xE1 relacionada con la siguiente nota d\xE9bito:  <br />" : 6 == erpTypeAction && (strMessage = "No puede aplicar una nota cr\xE9dito a este comprobante porque est\xE1 relacionada con la siguiente nota cr\xE9dito:  <br />"), jQuery.ajax({ type: "POST", url: "Components/ERP/Business/ERPDocHandler.ashx", data: dataString, cache: !1, success: function (html) { var result = eval("(" + html + ")"); setBusyIndicator(!1), "true" == result.hasItems ? "undefined" != typeof actionText1 && "undefined" != typeof actionText2 ? ShowMessageBox(strTitle, actionText1 + "<br />" + result.ItemsStr + "<br />" + actionText2 + "<br /><br />", "", void 0, "", "", strBtn) : ShowMessageBox(strTitle, strMessage + result.ItemsStr + "<br />por favor verifica.<br /><br />", "", void 0, "", "", strBtn) : (button.attr("onclick", action), button.trigger("click")) } }) } } function checkAdjustment(button, action, actionText1, actionText2, erpDocType) { erpDocType = "undefined" != typeof erpDocType && null != erpDocType ? erpDocType : 0, setBusyIndicator(!0); var erpDocID = getERPDocumentID(); if (0 < erpDocID) { var dataString = { Process: 7, ERPDocumentID: erpDocID, ERPDocType: erpDocType }; jQuery.ajax({ type: "POST", url: "Components/ERP/Business/ERPDocHandler.ashx", data: dataString, cache: !1, success: function (html) { var result = eval("(" + html + ")"); setBusyIndicator(!1), "true" == result.hasItems ? "undefined" != typeof actionText1 && "undefined" != typeof actionText2 ? ShowMessageBox(strTitle, actionText1 + "<br />" + result.ItemsStr + "<br />" + actionText2 + "<br /><br />", "", void 0, "", "", strBtn) : ShowMessageBox(strTitle, "No es posible borrar/anular este comprobante ya que se encuentra relacionado a los siguientes ajustes de cartera:  <br />" + result.ItemsStr + "<br />por favor verifica.<br /><br />", "", void 0, "", "", strBtn) : (button.attr("onclick", action), button.trigger("click")) } }) } } function cancelByAdjustmentInEditOption(initTotal, editTotal, actionText1, actionText2, erpDocType) { erpDocType = "undefined" != typeof erpDocType && null != erpDocType ? erpDocType : 0; var blnOK = !1, erpDocID = getERPDocumentID(); if (0 < erpDocID) { var dataString = { Process: 7, ERPDocumentID: erpDocID, ERPDocType: erpDocType }; jQuery.ajax({ type: "POST", url: "Components/ERP/Business/ERPDocHandler.ashx", data: dataString, cache: !1, async: !1, success: function (html) { var result = eval("(" + html + ")"); "true" == result.hasItems && initTotal != editTotal && ("undefined" != typeof actionText1 && "undefined" != typeof actionText2 ? ShowMessageBox(strTitle, actionText1 + "<br />" + result.ItemsStr + "<br />" + actionText2 + "<br /><br />", "", void 0, "", "", strBtn) : ShowMessageBox(strTitle, "No es posible borrar/anular este comprobante ya que se encuentra relacionado a los siguientes ajustes de cartera:  <br />" + result.ItemsStr + "<br />por favor verifica.<br /><br />", "", void 0, "", "", strBtn), blnOK = !0) } }) } return blnOK } function getERPDocumentID() { var e = GetURLParameter("ERPDocumentID"); return "" == e && (e = -1), e } function setBusyIndicator(e) { if (e != null) { var t = document.getElementById("divLoading"); null != t && (t.style.visibility = !0 == e ? "visible" : "hidden") } } function ddlClearAndFixValue(e) { if ("undefined" != typeof Page_ClientValidate && !Page_ClientValidate()) return !1; var t = jQuery("select[id$='" + e + "']"), a = jQuery("input[id$='" + e + "']"); 0 < t.length && 0 < a.length && ("undefined" != typeof t[0].options[t[0].selectedIndex] && a.val(t[0].options[t[0].selectedIndex].value), SetStateValidator(t[0], !1), jQuery(t).empty()) } function ddlBindInfo(controlName) { var control = jQuery("select[id$='" + controlName + "']"), settings = null; if (0 < control.length) { if (settings = JSON.parse(control.attr("settings")), jQuery(control).empty(), "Contact" !== settings.tableName || "Contact" === settings.tableName && "" !== settings.where) { var lLangs = "", sOrderBy = "", sAlias = ""; null != settings.langs && (lLangs = settings.langs), null != settings.order && (sOrderBy = settings.order), null != settings.alias && (sAlias = settings.alias); var dataString = { ActionType: 0, tableName: settings.tableName, fieldId: settings.fieldId, fieldDescription: settings.fieldDescription, fieldDescription2: settings.fieldDescription2, requestWhere: settings.where, langs: lLangs, order: sOrderBy, alias: sAlias }; jQuery.ajax({ type: "POST", url: "Framework/Controls/DropDownListWithCreateNewHandler.ashx", data: dataString, cache: !1, async: !1, success: function (html) { var result = eval("(" + html + ")"); if (result.success && "" !== result.data) { var lstData = result.data; control[0].options.add(new Option("", "")), lstData.forEach(function (e) { var t = new Option(e.Item2, e.Item1), a = jQuery("input[id$='" + settings.tableName + "_" + settings.fieldName + "']"); 0 < a.length && "" !== a.val() && e.Item1 === a.val() && (t.selected = !0), control[0].options.add(t) }) } } }) } var option = document.createElement("option"); option.textContent = control.attr("msgNew"), option.innerText = control.attr("msgNew"), option.value = NaN, option.style = "background-color:#4887bc;color:#FFFFFF;", option.style.background = "#4887bc", option.style.color = "#FFFFFF", 0 < control[0].options.length ? control[0].insertBefore(option, control[0].options[control[0].options.length]) : (control[0].options.add(new Option("", "")), control[0].options.add(option)) } } function ddlChangeData(control) { var settings = JSON.parse(jQuery(control).attr("settings")); if ("NaN" == control.value) eval(settings.url), control.selectedIndex = 0; else { var controlValue = jQuery("input[id$='" + settings.tableName + "_" + settings.fieldName + "']"); 0 < controlValue.length && controlValue.val(control.value) } } function CopyToClipboard(e) { if (window.getSelection().removeAllRanges(), document.selection) { var t = document.body.createTextRange(); t.moveToElementText(document.getElementById(e)), t.select().createTextRange(), document.execCommand("Copy") } else if (window.getSelection) { var t = document.createRange(); t.selectNode(document.getElementById(e)), window.getSelection().addRange(t), document.execCommand("Copy") } } function GetUrlBaseTenant() { var e = "http://"; window.location.href.startsWith("https://") && (e = "https://"); var t = window.location.href.replace("http://", "").replace("https://", "").split(/[/?#]/); return e + t[0] + "/" + t[1] } function loadHeightLicenseMessage() { var e = jQuery("#dvwrapheader").outerHeight(); jQuery(".overBox").css("top", e) } function removeMainMargin() { jQuery("div[id$='main']").css("margin-left", "0"), jQuery("div[id$='dvMenuHeaderAdvancedCont']").removeAttr("style") } String.prototype.includes || (String.prototype.includes = function () { return -1 !== String.prototype.indexOf.apply(this, arguments) }); function ExecuteActionReport(e, t, a, l, n) { 0 == a && checkInitialBalance(t, e) && confirm(n) && deleteInitialBalance(t, e) && deleteRow("Row" + e), 1 == a && checkInitialBalance(t, e) && confirm(n) && cancelInitialBalance(t, e) && ($("#anulledCell" + e)[0].innerHTML = "<font color='#ad0000'>Anulado</font>", $("#anulledActionCell" + e).css({ "pointer-events": "none", cursor: "default" }), $("#lnkAnulled" + e).attr("style", "color:gray;")) } function DrawRowStyles() { var e = $("table[id$='grdReport'] > tbody  > tr").length; $("table[id$='grdReport'] > tbody  > tr").each(function (t) { $this = $(this), 0 < t && t < e - 1 && (0 == t % 2 ? $this.attr("class", "grid-AlternatingItem") : $this.attr("class", "grid-item")) }) } function deleteRow(e) { for (var t = document.getElementById(e), a = t.parentNode; a && "TABLE" != a.tagName;)a = a.parentNode; a && a.deleteRow(t.rowIndex) } function deleteInitialBalance(erpdoctype, erpDocID) { var isValid = !1; if (setBusyIndicator(!0), 0 < erpDocID) { var dataString = { Process: 9, ERPDocumentID: erpDocID, ERPDocType: erpdoctype }; jQuery.ajax({ type: "POST", url: "Components/ERP/Business/ERPDocHandler.ashx", data: dataString, cache: !1, async: !1, success: function (html) { var result = eval("(" + html + ")"); setBusyIndicator(!1), !0 == result.success ? isValid = !0 : ("lockdate" == result.msg ? ShowMessageBox(" ", result.lockMessage, "", 100, "", "", result.acceptMessage, "", "") : ShowMessageBox(strTitle, "No es posible borrar dicho comprobante porque se encuentra relacionado con otros comprobantes.  Ver movimiento de cartera", "", void 0, "", "", strBtn), isValid = !1) } }) } return isValid } function cancelInitialBalance(erpdoctype, erpDocID) { var isValid = !1; if (setBusyIndicator(!0), 0 < erpDocID) { var dataString = { Process: 10, ERPDocumentID: erpDocID, ERPDocType: erpdoctype }; jQuery.ajax({ type: "POST", url: "Components/ERP/Business/ERPDocHandler.ashx", data: dataString, cache: !1, async: !1, success: function (html) { var result = eval("(" + html + ")"); setBusyIndicator(!1), !0 == result.success ? isValid = !0 : (ShowMessageBox(strTitle, "No es posible anular dicho comprobante porque se encuentra relacionado con otros comprobantes.  Ver movimiento de cartera", "", void 0, "", "", strBtn), isValid = !1) } }) } return isValid } function seeMoreFunction(e) { e.parentNode.innerHTML = e.getAttribute("fulltext") } function decimalInRange(e, t, a) { if ("" != e && e != null) { if (e > a) return a; if (e < t) return t } return e } function IsLockDate(redirect, ERPDocID, ERPDate, action) { var dataString, isLock = !1, lockMsg = "''", acceptMsg = "'Aceptar'"; return dataString = -1 == ERPDocID ? { ActionType: 4, ERPDocDate: ERPDate } : "undefined" != typeof action && null != action ? { ActionType: action, documentID: ERPDocID } : { ActionType: 1, ERPDocumentID: ERPDocID }, jQuery.ajax({ type: "POST", url: "Components/ERP/LockByDateHandler.ashx", data: dataString, cache: !1, async: !1, success: function (html) { var result = eval("(" + html + ")"); !0 == result.success && (isLock = result.isLockDate, acceptMsg = result.acceptMessage, lockMsg = result.lockMessage) } }), isLock ? (ShowMessageBox(" ", lockMsg, "", 100, "", "", acceptMsg, "", ""), !0) : (redirect && "" != _sEditURL && (window.location = _sEditURL), !1) } function LockActionInDocument(entryID, redirectURL = "") { var dataString, isLock = !1, lockMsg = "''", acceptMsg = "'Aceptar'"; return dataString = { Process: 18, ACEntryID: entryID }, jQuery.ajax({ type: "POST", url: "Components/ERP/Business/ERPDocHandler.ashx", data: dataString, cache: !1, async: !1, success: function (html) { var result = eval("(" + html + ")"); !0 == result.success && (isLock = result.lockAction) } }), !!isLock && ("undefined" != typeof redirectURL && "" != redirectURL && (window.location = redirectURL), !0) } function decodeCharHTML(e) { return e.replace(/&#(\d+);/g, function (e, t) { return String.fromCharCode(t) }) } function reviewNotifications() { if ("undefined" != typeof _notUserCode) { var _notificationsPath = "Components/ERP/Business/ERPDocHandler.ashx", dataString = { Process: 0, UsersID: _notUserCode }; jQuery.ajax({ type: "POST", url: "Framework/Controls/Notifications.ashx", data: dataString, cache: !1, success: function (html) { var result = eval("(" + html + ")"); if (result.success) { if (0 < result.news) { var sContent = "<span><a href='#'><table cellpadding='0' cellspacing='0'><tr><td><a target='_self' href='" + result.url + "'><b>" + _notTitle + "</b></a></td><td><a target='_self' href='" + result.url + "' class='NotificationCount'>&nbsp;<b>" + result.news + "</b>&nbsp;</a></td><td><a target='_self' href='" + result.url + "'><b>" + result.message + "</b></a></td></tr></table></a></span>", divInfo = document.getElementById("divInfo"); divInfo.style.visibility = "visible"; var tdText = document.getElementById("tdText"), lnkclose = document.getElementById("lnkClose"); tdText.innerHTML = sContent, lnkclose.style.display = "inline", updateNotificationsMenu(result.total); var WinSize = WindowSize(); divInfo.style.position = "fixed", divInfo.style.top = WinSize[1] - 30 + "px", divInfo.style.left = WinSize[0] - 300 + "px", divInfo.style.display = "inline"; var positions = getDimensions(divInfo); 23 < positions.h && (divInfo.style.top = WinSize[1] - 5 - positions.h + "px"), playSoundNotif() } setTimeout("reviewNotifications()", 6e5) } } }) } } function playSoundNotif() { _notSoundEnable && (document.getElementById("divMediaPlayer").innerHTML = "<embed id='sound' width='0px' height='0px' src='" + _notSoundFile + "' hidden=true autostart=true loop=false></embed>") } function getCookie(e) { token = "undefined" == typeof strCompanyKey ? "" : e + strCompanyKey; var t = "; " + document.cookie, a = t.split("; " + e + "="); if (2 == a.length) return a.pop().split(";").shift() } var lstConfiguration = [], urlConfigApi = "./assets/data/api.config.json"; 0 < window.location.href.indexOf("/ERPBilling/ERPBilling.aspx?") && (urlConfigApi = "../assets/data/api.config.json"), isRequestFromPortal() && (urlConfigApi = "../../assets/data/api.config.json"), 0 < window.location.href.indexOf("/InsertYouTubeVideo.aspx?") && (urlConfigApi = "../../../assets/data/api.config.json"), $.getJSON(urlConfigApi, function (e) { lstConfiguration = e }); var ApiNameEnum = { ACGeneralService: 0, ACEntryService: 1, ACRecoveryService: 2, ACDocumentService: 3, Report: 4, GlobalService: 5, eSiigoACGeneralService: 6, SiigoProcess: 7, PayrollService: 8, ReportOrchestrator: 9 }; function getUrlApi(e) { var t, a = ""; switch (e) { case ApiNameEnum.ACEntryService: t = getObjectByName("ACEntryService"), a = validateLastSlash(t.apiUrl) + t.version + "/"; break; case ApiNameEnum.ACGeneralService: t = getObjectByName("ACGeneralService"), a = validateLastSlash(t.apiUrl) + t.version + "/"; break; case ApiNameEnum.ACRecoveryService: t = getObjectByName("ACRecoveryService"), a = validateLastSlash(t.apiUrl) + t.version + "/"; break; case ApiNameEnum.ACDocumentService: t = getObjectByName("ACDocumentService"), a = validateLastSlash(t.apiUrl) + t.version + "/"; break; case ApiNameEnum.Report: t = getObjectByName("Report"), a = validateLastSlash(t.apiUrl) + t.version + "/"; break; case ApiNameEnum.GlobalService: t = getObjectByName("GlobalService"), a = validateLastSlash(t.apiUrl) + t.version + "/"; break; case ApiNameEnum.eSiigoACGeneralService: t = getObjectByName("eSiigoACGeneralService"), a = validateLastSlash(t.apiUrl) + t.version + "/"; break; case ApiNameEnum.SiigoProcess: t = getObjectByName("SiigoProcess"), a = validateLastSlash(t.apiUrl) + t.version + "/"; break; case ApiNameEnum.PayrollService: t = getObjectByName("PayrollService"), a = validateLastSlash(t.apiUrl) + t.version + "/"; break; case ApiNameEnum.ReportOrchestrator: t = getObjectByName("ReportOrchestrator"), a = validateLastSlash(t.apiUrl); break; default: }return a } function getObjectByName(e) { return lstConfiguration.find(function (t) { return t.apiName === e }) } function validateLastSlash(e) { var t = /.*?\/(.*$)/; return t.test(e) ? e : (e += "/", e) } var _c = !1; function modalConfirmBox(e, t, a, l) { if (!_c) { var n = window.pageYOffset; jQuery("<div>").html("<div style='text-align: -webkit-center;'>" + e + "</div>").dialog({ autoOpen: !0, draggable: !1, resizable: !1, modal: !0, closeOnEscape: !1, open: function (e, t) { showPopupAngular("", {}, "popupDialog"), $(".ui-dialog-titlebar", t.dialog | t).hide(), $(".ui-dialog-buttonpane", t.dialog | t).css({ "text-align": "-webkit-center" }), $(".ui-dialog-buttonset", t.dialog | t).css({ float: "none" }), $(this).parent().css({ top: n + 100 }) }, buttons: [{ text: a, class: "btn btn-primary", select: !1, click: function () { _c = !0, t.click(), $(this).dialog("close") } }, { text: l, class: "btn btn-default", click: function () { $(this).dialog("close"), _c = !1 } }], close: function () { jQuery(this).remove(), closePopupAngular() } }) } return _c } var _res = !1; function modalMessageBox(e, t, a) { if (!_res) { var l = window.pageYOffset; jQuery("<div id=\"popPrueba\">").html("<div style='text-align: -webkit-center;'>" + e + "</div>").dialog({ autoOpen: !0, draggable: !1, resizable: !1, modal: !0, closeOnEscape: !1, open: function (e, t) { showPopupAngular("", {}, "popupDialog"), $(".ui-dialog-titlebar", t.dialog | t).hide(), $(".ui-dialog-buttonpane", t.dialog | t).css({ "text-align": "-webkit-center" }), $(".ui-dialog-buttonset", t.dialog | t).css({ float: "none" }), $(this).parent().css({ top: l + 100 }) }, buttons: [{ text: a, class: "btn btn-primary", click: function () { $(this).dialog("close"), _res = !1 } }], close: function () { jQuery(this).remove(), closePopupAngular() } }) } return _res } var _resOk = !1; function modalMessageBoxOk(texto, btnTextOk, functionName, isModal = !0, positionMy = "center", positionAt = "center", styleText = "") { if (!_resOk) { var Y = window.pageYOffset; jQuery("<div id=\"popPrueba\">").html("<div id='cls' style='text-align: right'>X</div><div style='" + styleText + "'>" + texto + "</div>").dialog({ autoOpen: !0, draggable: !1, resizable: !1, modal: isModal, closeOnEscape: !1, position: { my: positionMy, at: positionAt, of: window }, open: function (e, t) { $(".ui-dialog-titlebar", t.dialog | t).hide(), $(".ui-dialog-buttonpane", t.dialog | t).css({ "text-align": "-webkit-center" }), $(".ui-dialog-buttonset", t.dialog | t).css({ float: "none" }), $(this).parent().css({ top: Y + 100 }), $("#cls").parent().parent().css({ border: "3px solid #ddd" }), $("#cls").click(function () { $("#popPrueba").dialog("close") }) }, buttons: [{ text: btnTextOk, class: "btn btn-primaryGreen", click: function () { eval(functionName), $(this).dialog("close"), _resOk = !1 } }], close: function () { jQuery(this).remove(), closePopupAngular() } }) } return _resOk } function getDateIndicators() { var e = new Date, t = e.getDate(), a = e.getMonth() + 1, l = e.getFullYear(); 10 > t && (t = "0" + t), 10 > a && (a = "0" + a); var n = e.getHours(), o = e.getMinutes(), d = e.getSeconds(), r = 12 <= n ? "pm" : "am"; n %= 12, n = n ? n : 12, o = 10 > o ? "0" + o : o; var s = n + ":" + o + ":" + d + " " + r; return lastDateUpdateIndicators = (strDateFormat = "dd/MM/yyyy") ? t + "/" + a + "/" + l + " - " + s : l + "/" + a + "/" + t + " - " + s, lastDateUpdateIndicators } jQuery.migrateMute = !0; function enableShowMessageAWallet(companyKey) { var dvOverBox = jQuery("#Default_uBottomBox_dvOverBox"), pBoxMessage = jQuery("[id$='uBottomBox_pBoxMessage']"), SiigoWalletMessage = localStorage.getItem("SiigoWalletMessage" + companyKey); if (dvOverBox.css("margin-left", "25%"), SiigoWalletMessage) { var oSiigoWalletMessage = eval("(" + SiigoWalletMessage + ")"), dateNow = new Date, dateString = dateNow.getDate() + "/" + (dateNow.getMonth() + 1) + "/" + dateNow.getFullYear(); if (oSiigoWalletMessage.UpdateDate == dateString) return void ("" == oSiigoWalletMessage.Msg ? dvOverBox.hide() : (pBoxMessage.html(oSiigoWalletMessage.Msg), dvOverBox.show())) } jQuery.ajax({ type: "POST", url: "Framework/Controls/GetAccountWalletInfo.ashx", cache: !1, success: function (e) { var t = new Date, a = t.getDate() + "/" + (t.getMonth() + 1) + "/" + t.getFullYear(); SiigoWalletMessage = { UpdateDate: a, Msg: e }, localStorage.setItem("SiigoWalletMessage" + companyKey, JSON.stringify(SiigoWalletMessage)), "" == e ? dvOverBox.hide() : (pBoxMessage.html(e), dvOverBox.show()) } }) } function createEditor(e) { var t = Quill.import("blots/block"); class a extends t { } a.tagName = "div", a.blotName = "div", a.allowedChildren = t.allowedChildren, a.allowedChildren.push(t), Quill.register(a), Quill.debug(!1); var l = new Quill("#" + e, { theme: "snow", modules: { table: !0, toolbar: [["bold", "italic", "underline"], [{ align: [] }], [{ color: [] }], [{ list: "ordered" }, { list: "bullet" }, "link", { indent: "-1" }, { indent: "+1" }, "image"], ["insertTable_" + e], ["deleteTable_" + e]] } }); const n = l.getModule("table"); if (document.querySelector(".ql-insertTable_" + e).addEventListener("click", function () { n.insertTable(2, 2) }), document.querySelector(".ql-deleteTable_" + e).addEventListener("click", function () { n.deleteTable() }), void 0 !== l) { var o = new jQuery("#" + e); if (void 0 !== o) return o.data("quill", l), l } } function createEditorEmailContent(e) { var t = Quill.import("blots/block"); class a extends t { } a.tagName = "div", a.blotName = "div", a.allowedChildren = t.allowedChildren, a.allowedChildren.push(t), Quill.register(a), Quill.debug(!1); var l = new Quill("#" + e, { theme: "snow", modules: { table: !0, toolbar: [["bold", "italic", "underline"], [{ align: [] }], [{ color: [] }], [{ list: "ordered" }, { list: "bullet" }, "link"]] } }); if (l !== void 0) { var n = new jQuery("#" + e); if (void 0 !== n) return n.data("quill", l), l } } function RegisterNotes(e, t) { popUp = window.open("Default.aspx?UCtl=44&UOpt=-1&CSR_ID=" + e + "&AllowEdit=" + t, "Course", "width=800,height=600,left=50,top=50,scrollbars=yes,hotkeys=no,titlebar=yes, location=no, menubar=no, status=yes") } function listCombo_SetValue(e, t, a) { var l = e.find("input[id$='txtValue']")[0]; l.value = t, a && (l.defaultValue = t) } function checkInitialBalance(actionText1, actionText2, erpDocType, erpDocID) { erpDocType = "undefined" != typeof erpDocType && null != erpDocType ? erpDocType : 0; var isValid = !1; if (setBusyIndicator(!0), 0 < erpDocID) { var dataString = { Process: 8, ERPDocumentID: erpDocID, ERPDocType: erpDocType }; jQuery.ajax({ type: "POST", url: "Components/ERP/Business/ERPDocHandler.ashx", data: dataString, cache: !1, async: !1, success: function (html) { var result = eval("(" + html + ")"); setBusyIndicator(!1), "true" == result.hasItems ? "undefined" != typeof actionText1 && "undefined" != typeof actionText2 ? ShowMessageBox(strTitle, actionText1 + "<br />" + result.ItemsStr + "<br />" + actionText2 + "<br /><br />", "", void 0, "", "", strBtn) : ShowMessageBox(strTitle, "No es posible borrar/anular este comprobante ya que se encuentra cruzado con los siguientes comprobantes:  <br />" + result.ItemsStr + "<br />por favor verifica.<br /><br />", "", void 0, "", "", strBtn) : isValid = !0 } }) } return isValid } function settingsReact() { let e = getCompanyKeyReact().toUpperCase(), t = getCookieReact(e), a = document.getElementById("iFrameControl"), l = getUrlApi(ApiNameEnum.ACGeneralService); a && (a.onload = function () { a.contentWindow.postMessage({ companyKey: e, TKNSGRDD: t, location: window.location.origin, urlACGeneral: l }, "*") }) } function getCookieReact(e) { const t = "; " + document.cookie, a = t.split("; " + ("TKNSGRDD" + e) + "="); if (2 === a.length) return a.pop().split(";").shift() } function getCompanyKeyReact() { const e = /.*\/(.*)\/Default.aspx/, t = e.exec(window.location.href), a = t[1], l = "CompanyUserInformation_" + a.toUpperCase(), n = localStorage.getItem(l), o = JSON.parse(n); return o.CompanyKey } function RegisterNotes(a) { popUp = window.open("Default.aspx?UCtl=44&UOpt=-1&CSR_ID=" + a, "Course", "width=800,height=600,left=50,top=50,scrollbars=yes,hotkeys=no,titlebar=yes, location=no, menubar=no, status=yes") } function listCombo_SetValue(a, b) { a.find("input[id$='txtValue']")[0].value = b } function checkInitialBalance(erpdoctype, erpDocID) { erpDocType = "undefined" != typeof erpDocType && null != erpDocType ? erpDocType : 0; var isValid = !1; if (setBusyIndicator(!0), 0 < erpDocID) { var dataString = { Process: 8, ERPDocumentID: erpDocID, ERPDocType: erpDocType }; jQuery.ajax({ type: "POST", url: "Components/ERP/Business/ERPDocHandler.ashx", data: dataString, cache: !1, async: !1, success: function (html) { var result = eval("(" + html + ")"); setBusyIndicator(!1), "true" == result.hasItems ? "undefined" != typeof actionText1 && "undefined" != typeof actionText2 ? ShowMessageBox(strTitle, actionText1 + "<br />" + result.ItemsStr + "<br />" + actionText2 + "<br /><br />", "", void 0, "", "", strBtn) : ShowMessageBox(strTitle, "No es posible borrar/anular este comprobante ya que se encuentra asociado con los siguientes comprobantes:  <br />" + result.ItemsStr + "<br />por favor verifica.<br /><br />", "", void 0, "", "", strBtn) : isValid = !0 } }) } return isValid } function OpenURLFromBrowser(a) { var b = GetParametersUrl(a), c = top.window.location.origin + top.window.location.pathname, d = btoa(a); window.open(c + "#/asp/" + escapeUrlBase64(d) + b) }